<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Writing an R package with Emacs and ESS | Reminders for Future Me</title>
<meta name="keywords" content="R, emacs, ESS">
<meta name="description" content="Step by step guide to write R packages with emacs">
<meta name="author" content="Pavodive">
<link rel="canonical" href="https://pavodive.github.io/posts/writing-r-package-emacs/">
<meta name="google-site-verification" content="YvJuoNzJTDlnRvmEF5a6fHmF4Hu22y9GYZorrHYpLTU">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://pavodive.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://pavodive.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://pavodive.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://pavodive.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://pavodive.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://pavodive.github.io/posts/writing-r-package-emacs/">
<link rel="alternate" hreflang="es" href="https://pavodive.github.io/es/posts/writing-r-package-emacs/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://pavodive.github.io/posts/writing-r-package-emacs/">
  <meta property="og:site_name" content="Reminders for Future Me">
  <meta property="og:title" content="Writing an R package with Emacs and ESS">
  <meta property="og:description" content="Step by step guide to write R packages with emacs">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-01-11T00:00:00+00:00">
    <meta property="article:tag" content="R">
    <meta property="article:tag" content="Emacs">
    <meta property="article:tag" content="ESS">
      <meta property="og:image" content="https://pavodive.github.io/images/papermod-cover.png">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/merge_pandas_operations/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/basic_pandas_operations/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/time_pandas_operations/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/spanish2/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://pavodive.github.io/images/papermod-cover.png">
<meta name="twitter:title" content="Writing an R package with Emacs and ESS">
<meta name="twitter:description" content="Step by step guide to write R packages with emacs">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://pavodive.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Writing an R package with Emacs and ESS",
      "item": "https://pavodive.github.io/posts/writing-r-package-emacs/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Writing an R package with Emacs and ESS",
  "name": "Writing an R package with Emacs and ESS",
  "description": "Step by step guide to write R packages with emacs",
  "keywords": [
    "R", "emacs", "ESS"
  ],
  "articleBody": "This article provides a step-by-step guide to writing R packages using Emacs‚Äô ESS (Emacs Speaks Statistics) mode. By the end, you‚Äôll have created a simple package called dummyaddition, which can perform the simple task of adding two numbers or paste two strings.\nWhy Emacs? Emacs is one of those pieces of software that has stood the test of time. While some may argue that its age is a disadvantage, I would say that the fact it remains relevant after more than 40 years is proof of its robust design and adaptability to modern needs.\nIt‚Äôs far more than just a text editor or an IDE‚Äîit‚Äôs a powerful tool that has allowed me to develop a highly efficient workflow.\nHere are some reasons why I prefer Emacs:\nKeyboard-Centric Efficiency Emacs is command-line-based, meaning almost every possible action can be executed via the keyboard. I rarely use the mouse during my workflow. Relying on the mouse can strain your hands and arms, and it wastes time in unnecessary movements.\nExtensibility and Customization Emacs is incredibly extensible and highly customizable. Whether you prefer to keep it simple or turn it into a complex powerhouse, you can tweak it to fit your needs and fulfill your specific desires.\nEasy to Learn Although some people say the learning curve for Emacs is steep, I disagree. Vanilla (unmodified) Emacs is very simple to use, and it comes with excellent documentation. You can start by point-and-clicking while familiarizing yourself with the keyboard shortcuts. It‚Äôs not a radical difference from what you‚Äôre likely using now. Over time, you‚Äôll gradually learn to enhance and tailor Emacs to make it more efficient for your workflow.\nFree and Open Source Emacs is free‚Äîboth as in üç∫ (beer) and as in freedom. You can install it on any operating system at no cost. Not only do you not have to pay, but also nothing is taken from you: not your data, your software interactions, or your privacy.\nBeing open-source means you can modify Emacs and even share your tweaks with others‚Äîwithout anyone coming after you with legal concerns. It embodies true software freedom.\nWhy a Package? One of the fundamental goals of software development is automation. Tasks we do frequently should be made quicker and easier to execute. It‚Äôs a common scenario: you write a function once, then you need it again, and again‚Ä¶\nInstead of rewriting the same function multiple times (trust me, I‚Äôve been there‚Äîit‚Äôs not fun), or wasting time searching for where you wrote it last, it‚Äôs better to consolidate those functions into a package. A package allows you to load and reuse those functions effortlessly whenever you need them.\nCreating a package also means you can share your functions with others who might be facing the same problem you solved. By writing packages, you‚Äôre contributing to a collaborative environment. After all, I‚Äôm sure you‚Äôve relied heavily on R packages created by others‚Äîso why not give back?\nEnd Result By following this step-by-step guide, you will create a new package called dummyaddition. This package, while basic, will demonstrate the essential steps involved in creating an R package. You‚Äôll host your version in your GitHub repository, but if you‚Äôd like to see mine for reference, here‚Äôs the link: dummyaddition.\nStep by Step Magit for Version Control Create a Repository on Github The first step is to create a new repository on your GitHub account. I‚Äôve named mine dummyaddition, but feel free to choose a name that makes sense for your project. While filling out the description field is optional, I highly recommend doing so‚Äîit‚Äôs helpful to have a clear description for each repository.\nKeep in mind that the R package naming conventions (required by CRAN) allow only ASCII characters and numbers. Avoid using special characters like dashes, underscores, or periods in the name.\nYou also have the option to make the repository public or private. If you‚Äôre planning to share your code (which I strongly encourage), make the repository public.\nBefore creating the repository, configure the following minor but important settings:\nInitialize with a README.md: Check this box. We‚Äôll use the README later. Add a .gitignore file: Select the R template. This ensures that Git ignores unnecessary files, such as .history, which don‚Äôt add value to your project. Choose a License: GitHub offers several license options. Two common ones are the MIT License and the GNU General Public License v3.0. Be sure to read about their differences, as they may affect how your software can be used. For this tutorial, I‚Äôve chosen the GNU General Public License v3.0. Additionally, check the licenses of the R packages you plan to use in your code. Some licenses require you to adopt compatible or less restrictive licenses for your package. Once you‚Äôve configured the settings, click the Create Repository button.\nMagit Magit is an Emacs package that acts as a hybrid between a graphical Git client and the standard command-line Git interface. It provides user-friendly commands for Git actions. I use Magit because it simplifies interacting with Git, and I only need to remember a few basic commands. It‚Äôs user-friendly, and if you want to explore the actual Git commands it runs under the hood, they‚Äôre readily available for auditing and study.\nIf Git is not installed on your system, you can follow the official installation instructions here.\nAfter installing Git, configure your name and email to associate commits with your identity:\ngit config --global user.name \"John Doe\" git config --global user.email johndoe@example.com Next, install Magit for Emacs. If you haven‚Äôt installed it yet, I recommend doing so via MELPA, the Emacs package repository. Add the following lines to your .emacs file:\n(require 'package) (add-to-list 'package-archives '(\"melpa\" . \"https://melpa.org/packages/\") t) Select this block of text, evaluate it in Emacs by pressing M-x eval-region RET, and then refresh your package list with:\nM-x package-refresh-contents RET You can now install Magit (and its dependencies) by running:\nM-x package-install RET magit RET To ensure everything works as expected, restart your Emacs session. This resets the load-path and avoids potential issues with outdated configurations.\nCloning the Repository Now it‚Äôs time to clone the GitHub repository onto your computer.\nNavigate to the directory where you‚Äôd like to clone the repository. For example, if you‚Äôd like to clone it into ~/Documents, open Emacs‚Äô Dired mode with C-x D and enter ~/Documents/ to open the corresponding directory.\nNext, run the following command in Emacs:\nM-x magit-clone Magit will ask where you‚Äôd like to clone the repository from. Choose [u] for URL. Then, paste the repository URL from your GitHub page. You can find the URL by clicking the green ‚Äú\u003c\u003e Code‚Äù button and copying the HTTPS URL. For example:\nhttps://github.com/PavoDive/dummyaddition.git Paste this URL into Magit‚Äôs minibuffer.\nMagit will then ask you to confirm the name of the subdirectory where the repository will be cloned. By default, it suggests the repository‚Äôs name (e.g., dummyaddition). I recommend keeping this to maintain consistency.\nIt will also ask, ‚ÄúSet remote.pushDefault to origin? (y or n)‚Äù. Since this is the start of a new repository, you can safely choose yes (y).\nAfter a short while, Magit will finish the cloning process and display a new buffer with the repository‚Äôs details and the most recent commit. You might need to press TAB to expand the details of the commits.\nTo verify the repository has been cloned, refresh the Dired buffer by pressing g. You should see a new directory‚Äîdummyaddition‚Äîinside your ~/Documents folder. Navigate to this directory, and you‚Äôll find:\ndrwxrwxr-x 8 gp gp 4.0K Jan 11 17:44 .git -rw-rw-r-- 1 gp gp 671 Jan 11 17:44 .gitignore -rw-rw-r-- 1 gp gp 35K Jan 11 17:44 LICENSE -rw-rw-r-- 1 gp gp 26 Jan 11 17:44 README.md These include the files and folders created during the GitHub setup:\n.gitignore: Preconfigured to ignore unnecessary files. LICENSE: The license you selected during setup. README.md: The initial README file. .git/: A hidden directory containing version control metadata. Ready to Start Developing You are now ready to start developing your R package! üéâ\nRequired Packages To make writing R packages easier and more efficient, we need to install two essential packages:\nrmarkdown: Converts R Markdown documents into various formats. devtools: A collection of package development tools‚Äîa package to help you develop packages! If these aren‚Äôt installed yet, start a new R session in your Documents directory by running M-x R in Emacs. Once the R session starts, enter the following commands:\ninstall.packages(\"rmarkdown\") install.packages(\"devtools\") These packages may require additional dependencies. Since the installation process varies depending on your system, you might encounter errors. If so, don‚Äôt worry! Take a deep breath, search for the errors, and troubleshoot any issues you encounter.\nKeep Calm and Try Again\nAfter successfully installing the packages, load them in your R session:\nlibrary(rmarkdown) library(devtools) Create a Package Now that we‚Äôve set up the necessary tools, let‚Äôs create the package. In your R session, run:\ncreate(\"dummyaddition\") This will create a new R package named dummyaddition, inside a corresponding dummyaddition directory.\n‚ö† Important Note: Ensure that your R session is not inside the dummyaddition directory when running devtools::create. Otherwise, it will attempt to create a nested package (e.g., a dummyaddition folder inside another dummyaddition folder), which can be problematic.\nWhen executed, the function prints the following information in your R console:\n‚úî Setting active project to \"/home/gp/Documents/dummyaddition\". ‚úî Creating R/. ‚úî Writing DESCRIPTION. Package: dummyaddition Title: What the Package Does (One Line, Title Case) Version: 0.0.0.9000 Authors@R (parsed): * First Last [aut, cre] Description: What the package does (one paragraph). License: `use_mit_license()`, `use_gpl3_license()` or friends to pick a license Encoding: UTF-8 Roxygen: list(markdown = TRUE) RoxygenNote: 7.3.2 ‚úî Writing NAMESPACE. ‚úî Setting active project to \"\". What Gets Created? You‚Äôll notice the following new elements in your dummyaddition folder:\nDESCRIPTION: Describes the metadata of your package (e.g., name, author, version, and description). Edit this file following the instructions within it. NAMESPACE: Manages exported and imported functions. This file is automatically generated‚Äîavoid editing it manually. R/: A folder to store your package functions and code. Currently, it is empty. At this point, we have the skeleton of the package. Let‚Äôs move on to writing the code!\nWriting the Code Let‚Äôs define the core function of our package. Create a new file called addition.R inside the R/ directory and add the following code:\n1 2 3 4 5 6 7 8 9 10 addition \u003c- function(a, b) { if (length(a) \u003e 1 || length(b) \u003e 1) { stop(\"I can't accept a vector. Sorry.\") } if (is.numeric(a) == TRUE \u0026\u0026 is.numeric(b) == TRUE) { a + b }else { paste0(as.character(a), as.character(b)) } } Of course, your package can include multiple complex functions. As a general recommendation, place each exported function in its own file. It‚Äôs fine to include auxiliary (internal) functions inside the same file as the main function that uses them.\nDocumenting the Functions Documentation is a crucial aspect of package development, and with devtools, you can easily manage it using roxygen2. This involves placing special comments at the top of each function to describe its purpose, usage, and arguments.\nLet‚Äôs document our addition function by adding the following above its definition in addition.R:\n#' Add two numeric values or paste two character values. #' #' This function takes two single values and adds them, #' if they are numeric, or pastes them together, otherwise. #' The function checks the length of each argument, and #' returns an error if any of the arguments has length #' greater than one. #' #' @usage addition(a, b) #' @keywords addition, pasting, sum. #' @param a A single value that is numeric, character or that #' can be coerced to character. #' @param b A single value that is numeric, character or that #' can be coerced to character. #' @return A numeric value with the sum of a and b, if both #' are numeric, or a string if both values can be coerced to #' to string. #' @examples #' # Adding numerc values #' addition(1, 6) #' # Pasting strings together #' addition(\"nice \", \"function\") #' @export Key Points About Documentation: #' denotes a documentation comment. The @export tag is essential to make the function available to users of the package. Functions without this tag are treated as internal. Tags like @param, @return, @keywords, and @examples provide structured details about the function. A Note on Imports If your package relies on external libraries, you should include the @import tag in the documentation, like this:\n#' @import data.table This ensures the package correctly imports external functionality.\nWith the core function implemented and documented, you‚Äôre well on your way to building a functional R package. Great work so far! üéâ\nBuilding the Documentation To build the documentation for your package, ensure your working directory is set to the package‚Äôs root directory (dummyaddition). If you haven‚Äôt closed your R session, you can simply use:\nsetwd(\"dummyaddition\") If you‚Äôve already closed the session, just start a new R session in the correct directory and reload the required libraries (devtools and rmarkdown) using library().\nNow, use the devtools::document() function, a convenient wrapper for the roxygen2::roxygenize() function, to generate the documentation. Run:\ndocument() This produces the following output:\n‚Ñπ Updating dummyaddition documentation ‚Ñπ Loading dummyaddition Writing NAMESPACE Writing addition.Rd Let‚Äôs break down what happens when you run this command:\nThe NAMESPACE file is updated automatically: it now includes the information needed to export the addition function. The man/ directory is created, if it doesn‚Äôt already exist. This folder contains documentation files for your exported functions, written in .Rd format. For example: addition.Rd: This file was generated from the special comments in the addition.R file. It contains documentation in a format recognized by R. Note: Do not modify this file directly, as it is automatically generated. At this point, you can now access the help for your function, even though the package isn‚Äôt installed yet. To do this, use a specific process:\n\u003e ? + addition In this code:\n\u003e represents the R prompt. + indicates a continuation line (a feature of Emacs). This means: write ? and when emacs offers you the continuation line, write addition.\nWhen you run this command, you‚Äôll see a nicely formatted help page for your function, rendered as if the package were fully installed:\n‚Ñπ Rendering development documentation for \"addition\" addition package:dummyaddition R Documentation Add two numeric values or paste two character values. Description: This function takes two single values and adds them, if they are numeric, or pastes them together, otherwise. The function checks the length of each argument, and returns an error if any of the arguments has length greater than one. Usage: addition(a, b) Arguments: a: A single value that is numeric, character or that can be coerced to character. b: A single value that is numeric, character or that can be coerced to character. Value: A numeric value with the sum of a and b, if both are numeric, or a string if both values can be coerced to to string. Examples: # Adding numerc values addition(1, 6) # Pasting strings together addition(\"nice \", \"function\") This confirms that your documentation is functioning correctly and your package is well-structured.\nA Beautiful pdf Let‚Äôs generate a nicely formatted PDF for our package‚Äîjust like the ones you see with well-established R packages.\nTo produce this PDF, you‚Äôll need to use a shell (or Emacs‚Äô Eshell). Open a shell using M-x shell or M-x eshell and navigate to the parent directory of your project (Documents in this example). Then, run the following command in the shell:\nR CMD Rd2pdf dummyaddition This will generate a PDF file named dummyaddition.pdf in the Documents folder.\n‚ö† Important Note: You may need LaTeX and Pandoc installed on your system to successfully create the PDF. If they‚Äôre not already installed, search online for platform-specific installation instructions (and make yourself a coffee, installing them will require some time and patience).\nUpdate the README.md File The README.md file is the ‚Äúface‚Äù of your package. It‚Äôs what people see first when they visit your repository (especially on GitHub), so it‚Äôs important to update it with relevant information.\nAt a minimum, your README.md file should include:\nWhat your package does: Provide a clear and simple explanation of what problem the package solves. How to install it: Include installation instructions. For example, you can add the following if your package is hosted on GitHub: devtools::install_github(\"yourusername/dummyaddition\") Replace \"yourusername\" with your GitHub username and \"dummyaddition\" with your package name.\nPushing Your Updated Package to Github Once you‚Äôve completed your code, documentation, and updates to your README.md, it‚Äôs time to push the changes to GitHub. Magit makes this process smooth and efficient.\nOpen the Magit buffer for your repository, typically titled magit: dummyaddition. If it‚Äôs not already open, you can activate it with the command:\nM-x magit-status Refresh the repository status by pressing g in the Magit buffer. You‚Äôll see something like this:\nHead: main Initial commit Merge: origin/main Initial commit Push: origin/main Initial commit Untracked files (4) Unstaged changes (1) Recent commits You may expand specific sections (e.g., untracked files, unstaged changes, recent commits) by pressing TAB.\nStaging and Committing Changes Untracked files: When you expand the ‚ÄúUntracked files‚Äù section, you‚Äôll see files like DESCRIPTION, NAMESPACE, and directories like man/ and R/. These are the new files we created during the development process.\nStage these changes by selecting the file or directory and pressing s (for stage). Staged files will now appear under the ‚ÄúStaged changes‚Äù section. Unstaged changes: You‚Äôll notice that the README.md file appears here because it was modified (not newly created). Stage these changes with s as well. Magit may ask if you‚Äôd like to stage all changes‚Äîpress y to confirm.\nOnce all changes are staged under the ‚ÄúStaged changes‚Äù section, commit them by pressing c (for commit). A menu will appear. Press c again to create the commit.\nWriting the Commit Message Once you start the commit process, a buffer will open for you to write your commit message. Commit messages should be meaningful and concise. For example:\nTitle: Clearly summarize the commit in one line. Body (optional): Add more details if necessary, especially if the changes are complex. Here‚Äôs an example commit message for our work:\nCode and Documentation Generated - Added the core function `addition`. - Created auto-generated documentation with roxygen2. - Updated the README.md file. After writing your commit message, save it and press C-c C-c to confirm and close the buffer.\nThis will update the Magit buffer, which may now say something like:\nUnmerged into origin/main (1) 56d6bd3 main Code and Documentation Generated This means your changes have been committed locally but not yet pushed to the GitHub repository.\nPushing to GitHub To push your changes to GitHub, press P (for push) in the Magit buffer. A menu will appear‚Äîpress p to push your changes to origin/main.\nMagit may ask for your GitHub credentials (username and password) if you haven‚Äôt configured them for SSH or token-based authentication. Enter the required information, and after a moment, the Magit buffer will reflect that the changes have been pushed:\nRecent commits 56d6bd3 origin/main Code and Documentation Generated 4b1b6c8 Initial commit At this point, your changes are live on GitHub. You can verify them by visiting your repository on GitHub.\nShare Your Package Your journey isn‚Äôt complete until you share your work! While this package may solve a particular problem for you, it‚Äôs likely someone else out there (out of the 8 billion people on Earth üåç) may face the same challenge in the future. Sharing your work could help them too.\nHere are some ways to share your package:\nPost about it on your social networks. Write a blog post about what it accomplishes. Share it on platforms such as Hacker News or Lobste.rs. Mention it in relevant forums or communities. Whichever method you choose, don‚Äôt forget to share your amazing work with the world!\n",
  "wordCount" : "3307",
  "inLanguage": "en",
  "image": "https://pavodive.github.io/images/papermod-cover.png","datePublished": "2025-01-11T00:00:00Z",
  "dateModified": "2025-01-11T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Pavodive"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://pavodive.github.io/posts/writing-r-package-emacs/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Reminders for Future Me",
    "logo": {
      "@type": "ImageObject",
      "url": "https://pavodive.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://pavodive.github.io/" accesskey="h" title="Reminders for Future Me (Alt + H)">Reminders for Future Me</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://pavodive.github.io/es/" title="üá™üá∏"
                            aria-label=":es:">üá™üá∏</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://pavodive.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://pavodive.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://pavodive.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://pavodive.github.io/">Home</a>&nbsp;¬ª&nbsp;<a href="https://pavodive.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Writing an R package with Emacs and ESS
    </h1>
    <div class="post-description">
      Step by step guide to write R packages with emacs
    </div>
    <div class="post-meta"><span title='2025-01-11 00:00:00 +0000 UTC'>January 11, 2025</span>&nbsp;¬∑&nbsp;16 min&nbsp;¬∑&nbsp;Pavodive&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="https://pavodive.github.io/es/posts/writing-r-package-emacs/">üá™üá∏</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#why-emacs" aria-label="Why Emacs?">Why Emacs?</a><ul>
                        
                <li>
                    <a href="#keyboard-centric-efficiency" aria-label="Keyboard-Centric Efficiency">Keyboard-Centric Efficiency</a></li>
                <li>
                    <a href="#extensibility-and-customization" aria-label="Extensibility and Customization">Extensibility and Customization</a></li>
                <li>
                    <a href="#easy-to-learn" aria-label="Easy to Learn">Easy to Learn</a></li>
                <li>
                    <a href="#free-and-open-source" aria-label="Free and Open Source">Free and Open Source</a></li></ul>
                </li>
                <li>
                    <a href="#why-a-package" aria-label="Why a Package?">Why a Package?</a></li>
                <li>
                    <a href="#end-result" aria-label="End Result">End Result</a></li>
                <li>
                    <a href="#step-by-step" aria-label="Step by Step">Step by Step</a><ul>
                        
                <li>
                    <a href="#magit-for-version-control" aria-label="Magit for Version Control">Magit for Version Control</a><ul>
                        
                <li>
                    <a href="#create-a-repository-on-github" aria-label="Create a Repository on Github">Create a Repository on Github</a></li>
                <li>
                    <a href="#magit" aria-label="Magit">Magit</a></li>
                <li>
                    <a href="#cloning-the-repository" aria-label="Cloning the Repository">Cloning the Repository</a></li></ul>
                </li>
                <li>
                    <a href="#ready-to-start-developing" aria-label="Ready to Start Developing">Ready to Start Developing</a></li>
                <li>
                    <a href="#required-packages" aria-label="Required Packages">Required Packages</a></li>
                <li>
                    <a href="#create-a-package" aria-label="Create a Package">Create a Package</a><ul>
                        
                <li>
                    <a href="#what-gets-created" aria-label="What Gets Created?">What Gets Created?</a></li></ul>
                </li>
                <li>
                    <a href="#writing-the-code" aria-label="Writing the Code">Writing the Code</a></li>
                <li>
                    <a href="#documenting-the-functions" aria-label="Documenting the Functions">Documenting the Functions</a><ul>
                        
                <li>
                    <a href="#key-points-about-documentation" aria-label="Key Points About Documentation:">Key Points About Documentation:</a></li></ul>
                </li>
                <li>
                    <a href="#a-note-on-imports" aria-label="A Note on Imports">A Note on Imports</a></li>
                <li>
                    <a href="#building-the-documentation" aria-label="Building the Documentation">Building the Documentation</a><ul>
                        
                <li>
                    <a href="#a-beautiful-pdf" aria-label="A Beautiful pdf">A Beautiful pdf</a></li></ul>
                </li>
                <li>
                    <a href="#update-the-readmemd-file" aria-label="Update the README.md File">Update the README.md File</a></li>
                <li>
                    <a href="#pushing-your-updated-package-to-github" aria-label="Pushing Your Updated Package to Github">Pushing Your Updated Package to Github</a><ul>
                        
                <li>
                    <a href="#staging-and-committing-changes" aria-label="Staging and Committing Changes">Staging and Committing Changes</a></li>
                <li>
                    <a href="#writing-the-commit-message" aria-label="Writing the Commit Message">Writing the Commit Message</a></li>
                <li>
                    <a href="#pushing-to-github" aria-label="Pushing to GitHub">Pushing to GitHub</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#share-your-package" aria-label="Share Your Package">Share Your Package</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>This article provides a step-by-step guide to writing R packages using Emacs&rsquo; ESS (Emacs Speaks Statistics) mode. By the end, you&rsquo;ll have created a simple package called <code>dummyaddition</code>, which can perform the simple task of adding two numbers or paste two strings.</p>
<h2 id="why-emacs">Why Emacs?<a hidden class="anchor" aria-hidden="true" href="#why-emacs">#</a></h2>
<p>Emacs is one of those pieces of software that has stood the test of time. While some may argue that its age is a disadvantage, I would say that the fact it remains relevant after more than 40 years is proof of its robust design and adaptability to modern needs.</p>
<p>It‚Äôs far more than just a text editor or an IDE‚Äîit‚Äôs a powerful tool that has allowed me to develop a highly efficient workflow.</p>
<p>Here are some reasons why I prefer Emacs:</p>
<h3 id="keyboard-centric-efficiency">Keyboard-Centric Efficiency<a hidden class="anchor" aria-hidden="true" href="#keyboard-centric-efficiency">#</a></h3>
<p>Emacs is command-line-based, meaning almost every possible action can be executed via the keyboard. I rarely use the mouse during my workflow. Relying on the mouse can strain your hands and arms, and it wastes time in unnecessary movements.</p>
<h3 id="extensibility-and-customization">Extensibility and Customization<a hidden class="anchor" aria-hidden="true" href="#extensibility-and-customization">#</a></h3>
<p>Emacs is incredibly extensible and highly customizable. Whether you prefer to keep it simple or turn it into a complex powerhouse, you can tweak it to fit your needs and fulfill your specific desires.</p>
<h3 id="easy-to-learn">Easy to Learn<a hidden class="anchor" aria-hidden="true" href="#easy-to-learn">#</a></h3>
<p>Although some people say the learning curve for Emacs is steep, I disagree. Vanilla (unmodified) Emacs is very simple to use, and it comes with excellent documentation. You can start by point-and-clicking while familiarizing yourself with the keyboard shortcuts. It‚Äôs not a radical difference from what you&rsquo;re likely using now. Over time, you‚Äôll gradually learn to enhance and tailor Emacs to make it more efficient for your workflow.</p>
<h3 id="free-and-open-source">Free and Open Source<a hidden class="anchor" aria-hidden="true" href="#free-and-open-source">#</a></h3>
<p>Emacs is free‚Äîboth as in üç∫ (beer) and as in <strong>freedom</strong>. You can install it on any operating system at no cost. Not only <em>do you not have to pay</em>, but also <strong>nothing is taken from you</strong>: not your data, your software interactions, or your privacy.</p>
<p>Being open-source means you can modify Emacs and even share your tweaks with others‚Äîwithout anyone coming after you with legal concerns. It embodies true software freedom.</p>
<h2 id="why-a-package">Why a Package?<a hidden class="anchor" aria-hidden="true" href="#why-a-package">#</a></h2>
<p>One of the fundamental goals of software development is <strong>automation</strong>. Tasks we do frequently should be made quicker and easier to execute. It&rsquo;s a common scenario: you write a function once, then you need it again, and again&hellip;</p>
<p>Instead of rewriting the same function multiple times (trust me, I‚Äôve been there‚Äîit‚Äôs not fun), or wasting time searching for where you wrote it last, it‚Äôs better to consolidate those functions into a package. A package allows you to load and reuse those functions effortlessly whenever you need them.</p>
<p>Creating a package also means you can share your functions with others who might be facing the same problem you solved. By writing packages, you‚Äôre contributing to a collaborative environment. After all, I‚Äôm sure you‚Äôve relied heavily on R packages created by others‚Äîso why not give back?</p>
<h2 id="end-result">End Result<a hidden class="anchor" aria-hidden="true" href="#end-result">#</a></h2>
<p>By following this step-by-step guide, you will create a new package called <code>dummyaddition</code>. This package, while basic, will demonstrate the essential steps involved in creating an R package. You‚Äôll host your version in your GitHub repository, but if you‚Äôd like to see mine for reference, here‚Äôs the link: <a href="https://github.com/pavodive/dummyaddition"><code>dummyaddition</code></a>.</p>
<h2 id="step-by-step">Step by Step<a hidden class="anchor" aria-hidden="true" href="#step-by-step">#</a></h2>
<h3 id="magit-for-version-control">Magit for Version Control<a hidden class="anchor" aria-hidden="true" href="#magit-for-version-control">#</a></h3>
<h4 id="create-a-repository-on-github">Create a Repository on Github<a hidden class="anchor" aria-hidden="true" href="#create-a-repository-on-github">#</a></h4>
<p>The first step is to create a new repository on your GitHub account. I&rsquo;ve named mine <code>dummyaddition</code>, but feel free to choose a name that makes sense for your project. While filling out the <strong>description</strong> field is optional, I highly recommend doing so‚Äîit‚Äôs helpful to have a clear description for each repository.</p>
<p>Keep in mind that the R package naming conventions (required by CRAN) allow only ASCII characters and numbers. Avoid using special characters like dashes, underscores, or periods in the name.</p>
<p>You also have the option to make the repository <strong>public</strong> or <strong>private</strong>. If you&rsquo;re planning to share your code (which I strongly encourage), make the repository public.</p>
<p>Before creating the repository, configure the following minor but important settings:</p>
<ul>
<li><strong>Initialize with a <code>README.md</code></strong>: Check this box. We&rsquo;ll use the README later.</li>
<li><strong>Add a <code>.gitignore</code> file</strong>: Select the R template. This ensures that Git ignores unnecessary files, such as <code>.history</code>, which don‚Äôt add value to your project.</li>
<li><strong>Choose a License</strong>: GitHub offers several license options. Two common ones are the <em>MIT License</em> and the <em>GNU General Public License v3.0</em>. Be sure to read about their differences, as they may affect how your software can be used. For this tutorial, I‚Äôve chosen the <em>GNU General Public License v3.0</em>.
<ul>
<li>Additionally, check the licenses of the R packages you plan to use in your code. Some licenses require you to adopt compatible or less restrictive licenses for your package.</li>
</ul>
</li>
</ul>
<p>Once you&rsquo;ve configured the settings, click the <strong>Create Repository</strong> button.</p>
<h4 id="magit">Magit<a hidden class="anchor" aria-hidden="true" href="#magit">#</a></h4>
<p><strong>Magit</strong> is an Emacs package that acts as a hybrid between a graphical Git client and the standard command-line Git interface. It provides user-friendly commands for Git actions. I use Magit because it simplifies interacting with Git, and I only need to remember a few basic commands. It‚Äôs user-friendly, and if you want to explore the actual Git commands it runs under the hood, they‚Äôre readily available for auditing and study.</p>
<p>If Git is not installed on your system, you can follow the official installation instructions <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">here</a>.</p>
<p>After installing Git, configure your name and email to associate commits with your identity:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">git config --global user.name <span class="s2">&#34;John Doe&#34;</span>
</span></span><span class="line"><span class="cl">git config --global user.email johndoe@example.com
</span></span></code></pre></div><p>Next, install <strong>Magit</strong> for Emacs. If you haven‚Äôt installed it yet, I recommend doing so via <a href="https://melpa.org/">MELPA</a>, the Emacs package repository. Add the following lines to your <code>.emacs</code> file:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lisp" data-lang="lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;package</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;package-archives</span>
</span></span><span class="line"><span class="cl">             <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;melpa&#34;</span> <span class="o">.</span> <span class="s">&#34;https://melpa.org/packages/&#34;</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
</span></span></code></pre></div><p>Select this block of text, evaluate it in Emacs by pressing <code>M-x eval-region RET</code>, and then refresh your package list with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lisp" data-lang="lisp"><span class="line"><span class="cl"><span class="nv">M-x</span> <span class="nv">package-refresh-contents</span> <span class="nv">RET</span>
</span></span></code></pre></div><p>You can now install Magit (and its dependencies) by running:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lisp" data-lang="lisp"><span class="line"><span class="cl"><span class="nv">M-x</span> <span class="nv">package-install</span> <span class="nv">RET</span> <span class="nv">magit</span> <span class="nv">RET</span>
</span></span></code></pre></div><p>To ensure everything works as expected, restart your Emacs session. This resets the <code>load-path</code> and avoids potential issues with outdated configurations.</p>
<h4 id="cloning-the-repository">Cloning the Repository<a hidden class="anchor" aria-hidden="true" href="#cloning-the-repository">#</a></h4>
<p>Now it&rsquo;s time to clone the GitHub repository onto your computer.</p>
<p>Navigate to the directory where you‚Äôd like to clone the repository. For example, if you&rsquo;d like to clone it into <code>~/Documents</code>, open Emacs‚Äô <strong>Dired</strong> mode with <code>C-x D</code> and enter <code>~/Documents/</code> to open the corresponding directory.</p>
<p>Next, run the following command in Emacs:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lisp" data-lang="lisp"><span class="line"><span class="cl"><span class="nv">M-x</span> <span class="nv">magit-clone</span>
</span></span></code></pre></div><p>Magit will ask where you&rsquo;d like to clone the repository from. Choose <code>[u]</code> for <strong>URL</strong>. Then, paste the repository URL from your GitHub page. You can find the URL by clicking the green &ldquo;&lt;&gt; Code&rdquo; button and copying the HTTPS URL. For example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">https://github.com/PavoDive/dummyaddition.git
</span></span></code></pre></div><p>Paste this URL into Magit‚Äôs minibuffer.</p>
<p>Magit will then ask you to confirm the name of the subdirectory where the repository will be cloned. By default, it suggests the repository&rsquo;s name (e.g., <code>dummyaddition</code>). I recommend keeping this to maintain consistency.</p>
<p>It will also ask, <strong>&ldquo;Set remote.pushDefault to origin? (y or n)&rdquo;</strong>. Since this is the start of a new repository, you can safely choose <strong>yes (y)</strong>.</p>
<p>After a short while, Magit will finish the cloning process and display a new buffer with the repository&rsquo;s details and the most recent commit. You might need to press <code>TAB</code> to expand the details of the commits.</p>
<p>To verify the repository has been cloned, refresh the Dired buffer by pressing <code>g</code>. You should see a new directory‚Äî<code>dummyaddition</code>‚Äîinside your <code>~/Documents</code> folder. Navigate to this directory, and you&rsquo;ll find:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-plaintext" data-lang="plaintext"><span class="line"><span class="cl">drwxrwxr-x  8 gp gp 4.0K Jan 11 17:44 .git
</span></span><span class="line"><span class="cl">-rw-rw-r--  1 gp gp  671 Jan 11 17:44 .gitignore
</span></span><span class="line"><span class="cl">-rw-rw-r--  1 gp gp  35K Jan 11 17:44 LICENSE
</span></span><span class="line"><span class="cl">-rw-rw-r--  1 gp gp   26 Jan 11 17:44 README.md
</span></span></code></pre></div><p>These include the files and folders created during the GitHub setup:</p>
<ul>
<li><code>.gitignore</code>: Preconfigured to ignore unnecessary files.</li>
<li><code>LICENSE</code>: The license you selected during setup.</li>
<li><code>README.md</code>: The initial README file.</li>
<li><code>.git/</code>: A hidden directory containing version control metadata.</li>
</ul>
<h3 id="ready-to-start-developing">Ready to Start Developing<a hidden class="anchor" aria-hidden="true" href="#ready-to-start-developing">#</a></h3>
<p>You are now ready to start developing your R package! üéâ</p>
<h3 id="required-packages">Required Packages<a hidden class="anchor" aria-hidden="true" href="#required-packages">#</a></h3>
<p>To make writing R packages easier and more efficient, we need to install two essential packages:</p>
<ul>
<li><strong><code>rmarkdown</code></strong>: Converts R Markdown documents into various formats.</li>
<li><strong><code>devtools</code></strong>: A collection of package development tools‚Äîa package to help you develop packages!</li>
</ul>
<p>If these aren&rsquo;t installed yet, start a new R session in your <code>Documents</code> directory by running <code>M-x R</code> in Emacs. Once the R session starts, enter the following commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#34;rmarkdown&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">install.packages</span><span class="p">(</span><span class="s">&#34;devtools&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>These packages may require additional dependencies. Since the installation process varies depending on your system, you might encounter errors. If so, don‚Äôt worry! Take a deep breath, search for the errors, and troubleshoot any issues you encounter.</p>
<figure class="align-center "><a href="/images/keep-calm-try-again.jpg" target="_blank">
    <img loading="lazy" src="/images/keep-calm-try-again.jpg#center"/> </a><figcaption>
            <p>Keep Calm and Try Again</p>
        </figcaption>
</figure>

<p>After successfully installing the packages, load them in your R session:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">rmarkdown</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">devtools</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="create-a-package">Create a Package<a hidden class="anchor" aria-hidden="true" href="#create-a-package">#</a></h3>
<p>Now that we‚Äôve set up the necessary tools, let&rsquo;s create the package. In your R session, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">create</span><span class="p">(</span><span class="s">&#34;dummyaddition&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>This will create a new R package named <code>dummyaddition</code>, inside a corresponding <code>dummyaddition</code> directory.</p>
<p>‚ö† <strong>Important Note</strong>: Ensure that your R session is <strong>not</strong> inside the <code>dummyaddition</code> directory when running <code>devtools::create</code>. Otherwise, it will attempt to create a nested package (e.g., a <code>dummyaddition</code> folder inside another <code>dummyaddition</code> folder), which can be problematic.</p>
<p>When executed, the function prints the following information in your R console:</p>
<pre tabindex="0"><code>‚úî Setting active project to &#34;/home/gp/Documents/dummyaddition&#34;.
‚úî Creating R/.
‚úî Writing DESCRIPTION.
Package: dummyaddition
Title: What the Package Does (One Line, Title Case)
Version: 0.0.0.9000
Authors@R (parsed):
    * First Last &lt;first.last@example.com&gt; [aut, cre]
Description: What the package does (one paragraph).
License: `use_mit_license()`, `use_gpl3_license()` or friends to
    pick a license
Encoding: UTF-8
Roxygen: list(markdown = TRUE)
RoxygenNote: 7.3.2
‚úî Writing NAMESPACE.
‚úî Setting active project to &#34;&lt;no active project&gt;&#34;.
</code></pre><h4 id="what-gets-created">What Gets Created?<a hidden class="anchor" aria-hidden="true" href="#what-gets-created">#</a></h4>
<p>You&rsquo;ll notice the following new elements in your <code>dummyaddition</code> folder:</p>
<ul>
<li><strong>DESCRIPTION</strong>: Describes the metadata of your package (e.g., name, author, version, and description). Edit this file following the instructions within it.</li>
<li><strong>NAMESPACE</strong>: Manages exported and imported functions. This file is automatically generated‚Äîavoid editing it manually.</li>
<li><strong>R/</strong>: A folder to store your package functions and code. Currently, it is empty.</li>
</ul>
<p>At this point, we have the skeleton of the package. Let‚Äôs move on to writing the code!</p>
<h3 id="writing-the-code">Writing the Code<a hidden class="anchor" aria-hidden="true" href="#writing-the-code">#</a></h3>
<p>Let&rsquo;s define the core function of our package. Create a new file called <code>addition.R</code> inside the <code>R/</code> directory and add the following code:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">addition</span> <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">if</span> <span class="p">(</span><span class="nf">length</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">1</span> <span class="o">||</span> <span class="nf">length</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="m">1</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">stop</span><span class="p">(</span><span class="s">&#34;I can&#39;t accept a vector. Sorry.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="kr">if</span> <span class="p">(</span><span class="nf">is.numeric</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">==</span> <span class="kc">TRUE</span> <span class="o">&amp;&amp;</span> <span class="nf">is.numeric</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">==</span> <span class="kc">TRUE</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span><span class="kr">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">paste0</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nf">as.character</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Of course, your package can include multiple complex functions. As a general recommendation, place each <strong>exported</strong> function in its own file. It‚Äôs fine to include auxiliary (internal) functions inside the same file as the main function that uses them.</p>
<h3 id="documenting-the-functions">Documenting the Functions<a hidden class="anchor" aria-hidden="true" href="#documenting-the-functions">#</a></h3>
<p>Documentation is a crucial aspect of package development, and with <code>devtools</code>, you can easily manage it using <code>roxygen2</code>. This involves placing special comments at the top of each function to describe its purpose, usage, and arguments.</p>
<p>Let‚Äôs document our <code>addition</code> function by adding the following <strong>above</strong> its definition in <code>addition.R</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">#&#39; Add two numeric values or paste two character values.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; </span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; This function takes two single values and adds them,</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; if they are numeric, or pastes them together, otherwise.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; The function checks the length of each argument, and</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; returns an error if any of the arguments has length</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; greater than one.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; </span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @usage addition(a, b)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @keywords addition, pasting, sum.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @param a A single value that is numeric, character or that</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;  can be coerced to character.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @param b A single value that is numeric, character or that</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;  can be coerced to character.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @return A numeric value with the sum of a and b, if both</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;  are numeric, or a string if both values can be coerced to</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39;  to string.</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @examples</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; # Adding numerc values</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; addition(1, 6)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; # Pasting strings together</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; addition(&#34;nice &#34;, &#34;function&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#&#39; @export</span>
</span></span></code></pre></div><h4 id="key-points-about-documentation">Key Points About Documentation:<a hidden class="anchor" aria-hidden="true" href="#key-points-about-documentation">#</a></h4>
<ul>
<li><code>#'</code> denotes a documentation comment.</li>
<li>The <code>@export</code> tag is essential to make the function available to users of the package. Functions without this tag are treated as internal.</li>
<li>Tags like <code>@param</code>, <code>@return</code>, <code>@keywords</code>, and <code>@examples</code> provide structured details about the function.</li>
</ul>
<h3 id="a-note-on-imports">A Note on Imports<a hidden class="anchor" aria-hidden="true" href="#a-note-on-imports">#</a></h3>
<p>If your package relies on external libraries, you should include the <code>@import</code> tag in the documentation, like this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="c1">#&#39; @import data.table</span>
</span></span></code></pre></div><p>This ensures the package correctly imports external functionality.</p>
<p>With the core function implemented and documented, you‚Äôre well on your way to building a functional R package. Great work so far! üéâ</p>
<h3 id="building-the-documentation">Building the Documentation<a hidden class="anchor" aria-hidden="true" href="#building-the-documentation">#</a></h3>
<p>To build the documentation for your package, ensure your working directory is set to the package&rsquo;s root directory (<code>dummyaddition</code>). If you haven‚Äôt closed your R session, you can simply use:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">setwd</span><span class="p">(</span><span class="s">&#34;dummyaddition&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>If you‚Äôve already closed the session, just start a new R session in the correct directory and reload the required libraries (<code>devtools</code> and <code>rmarkdown</code>) using <code>library()</code>.</p>
<p>Now, use the <code>devtools::document()</code> function, a convenient wrapper for the <code>roxygen2::roxygenize()</code> function, to generate the documentation. Run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">document</span><span class="p">()</span>
</span></span></code></pre></div><p>This produces the following output:</p>
<pre tabindex="0"><code>‚Ñπ Updating dummyaddition documentation
‚Ñπ Loading dummyaddition
Writing NAMESPACE
Writing addition.Rd
</code></pre><p>Let&rsquo;s break down what happens when you run this command:</p>
<ul>
<li>The <strong><code>NAMESPACE</code> file</strong> is updated automatically: it now includes the information needed to export the <code>addition</code> function.</li>
<li>The <strong><code>man/</code> directory</strong> is created, if it doesn‚Äôt already exist. This folder contains documentation files for your exported functions, written in <code>.Rd</code> format. For example:
<ul>
<li><code>addition.Rd</code>: This file was generated from the special comments in the <code>addition.R</code> file. It contains documentation in a format recognized by R. <strong>Note:</strong> Do not modify this file directly, as it is automatically generated.</li>
</ul>
</li>
</ul>
<p>At this point, you can now access the help for your function, even though the package isn‚Äôt installed yet. To do this, use a specific process:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="o">&gt;</span> <span class="o">?</span>
</span></span><span class="line"><span class="cl"><span class="o">+</span> <span class="n">addition</span>
</span></span></code></pre></div><p>In this code:</p>
<ul>
<li><code>&gt;</code> represents the R prompt.</li>
<li><code>+</code> indicates a continuation line (a feature of Emacs).</li>
</ul>
<p>This means: write <code>?</code> and when emacs offers you the continuation line, write <code>addition</code>.</p>
<p>When you run this command, you‚Äôll see a nicely formatted help page for your function, rendered as if the package were fully installed:</p>
<pre tabindex="0"><code>‚Ñπ Rendering development documentation for &#34;addition&#34;
addition             package:dummyaddition             R Documentation

Add two numeric values or paste two character values.

Description:

     This function takes two single values and adds them, if they are
     numeric, or pastes them together, otherwise. The function checks
     the length of each argument, and returns an error if any of the
     arguments has length greater than one.

Usage:

     addition(a, b)
     
Arguments:

       a: A single value that is numeric, character or that can be
          coerced to character.

       b: A single value that is numeric, character or that can be
          coerced to character.

Value:

     A numeric value with the sum of a and b, if both are numeric, or a
     string if both values can be coerced to to string.

Examples:

     # Adding numerc values
     addition(1, 6)
     # Pasting strings together
     addition(&#34;nice &#34;, &#34;function&#34;)
</code></pre><p>This confirms that your documentation is functioning correctly and your package is well-structured.</p>
<h4 id="a-beautiful-pdf">A Beautiful pdf<a hidden class="anchor" aria-hidden="true" href="#a-beautiful-pdf">#</a></h4>
<p>Let&rsquo;s generate a nicely formatted PDF for our package‚Äîjust like the ones you see with well-established R packages.</p>
<p>To produce this PDF, you&rsquo;ll need to use a shell (or Emacs‚Äô Eshell). Open a shell using <code>M-x shell</code> or <code>M-x eshell</code> and navigate to the parent directory of your project (<code>Documents</code> in this example). Then, run the following command in the shell:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">R CMD Rd2pdf dummyaddition
</span></span></code></pre></div><p>This will generate a PDF file named <code>dummyaddition.pdf</code> in the <code>Documents</code> folder.</p>
<p>‚ö† <strong>Important Note</strong>: You may need LaTeX and Pandoc installed on your system to successfully create the PDF. If they‚Äôre not already installed, search online for platform-specific installation instructions (and make yourself a coffee, installing them will require some time and patience).</p>
<h3 id="update-the-readmemd-file">Update the <code>README.md</code> File<a hidden class="anchor" aria-hidden="true" href="#update-the-readmemd-file">#</a></h3>
<p>The <code>README.md</code> file is the &ldquo;face&rdquo; of your package. It‚Äôs what people see first when they visit your repository (especially on GitHub), so it‚Äôs important to update it with relevant information.</p>
<p>At a minimum, your <code>README.md</code> file should include:</p>
<ul>
<li><strong>What your package does</strong>: Provide a clear and simple explanation of what problem the package solves.</li>
<li><strong>How to install it</strong>: Include installation instructions. For example, you can add the following if your package is hosted on GitHub:</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">devtools</span><span class="o">::</span><span class="nf">install_github</span><span class="p">(</span><span class="s">&#34;yourusername/dummyaddition&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Replace <code>&quot;yourusername&quot;</code> with your GitHub username and <code>&quot;dummyaddition&quot;</code> with your package name.</p>
<h3 id="pushing-your-updated-package-to-github">Pushing Your Updated Package to Github<a hidden class="anchor" aria-hidden="true" href="#pushing-your-updated-package-to-github">#</a></h3>
<p>Once you&rsquo;ve completed your code, documentation, and updates to your <code>README.md</code>, it‚Äôs time to push the changes to GitHub. Magit makes this process smooth and efficient.</p>
<ol>
<li>
<p><strong>Open the Magit buffer</strong> for your repository, typically titled <code>magit: dummyaddition</code>. If it&rsquo;s not already open, you can activate it with the command:</p>
<pre tabindex="0"><code>M-x magit-status
</code></pre></li>
<li>
<p><strong>Refresh the repository status</strong> by pressing <code>g</code> in the Magit buffer. You&rsquo;ll see something like this:</p>
<pre tabindex="0"><code>Head:     main Initial commit
Merge:    origin/main Initial commit
Push:     origin/main Initial commit

Untracked files (4)
Unstaged changes (1)

Recent commits
</code></pre><p>You may expand specific sections (e.g., untracked files, unstaged changes, recent commits) by pressing <code>TAB</code>.</p>
</li>
</ol>
<h4 id="staging-and-committing-changes">Staging and Committing Changes<a hidden class="anchor" aria-hidden="true" href="#staging-and-committing-changes">#</a></h4>
<ul>
<li>
<p><strong>Untracked files</strong>: When you expand the &ldquo;Untracked files&rdquo; section, you&rsquo;ll see files like <code>DESCRIPTION</code>, <code>NAMESPACE</code>, and directories like <code>man/</code> and <code>R/</code>. These are the new files we created during the development process.</p>
<ul>
<li>Stage these changes by selecting the file or directory and pressing <code>s</code> (for <em>stage</em>). Staged files will now appear under the &ldquo;Staged changes&rdquo; section.</li>
</ul>
</li>
<li>
<p><strong>Unstaged changes</strong>: You‚Äôll notice that the <code>README.md</code> file appears here because it was modified (not newly created). Stage these changes with <code>s</code> as well. Magit may ask if you&rsquo;d like to stage all changes‚Äîpress <strong>y</strong> to confirm.</p>
</li>
<li>
<p>Once all changes are staged under the &ldquo;Staged changes&rdquo; section, commit them by pressing <code>c</code> (for <em>commit</em>). A menu will appear. Press <code>c</code> again to create the commit.</p>
</li>
</ul>
<h4 id="writing-the-commit-message">Writing the Commit Message<a hidden class="anchor" aria-hidden="true" href="#writing-the-commit-message">#</a></h4>
<p>Once you start the commit process, a buffer will open for you to write your commit message. Commit messages should be meaningful and concise. For example:</p>
<ul>
<li><strong>Title</strong>: Clearly summarize the commit in one line.</li>
<li><strong>Body (optional)</strong>: Add more details if necessary, especially if the changes are complex.</li>
</ul>
<p>Here‚Äôs an example commit message for our work:</p>
<pre tabindex="0"><code>Code and Documentation Generated
- Added the core function `addition`.
- Created auto-generated documentation with roxygen2.
- Updated the README.md file.
</code></pre><p>After writing your commit message, save it and press <code>C-c C-c</code> to confirm and close the buffer.</p>
<p>This will update the Magit buffer, which may now say something like:</p>
<pre tabindex="0"><code>Unmerged into origin/main (1)
56d6bd3 main Code and Documentation Generated
</code></pre><p>This means your changes have been committed locally but not yet pushed to the GitHub repository.</p>
<h4 id="pushing-to-github">Pushing to GitHub<a hidden class="anchor" aria-hidden="true" href="#pushing-to-github">#</a></h4>
<p>To push your changes to GitHub, press <code>P</code> (for <em>push</em>) in the Magit buffer. A menu will appear‚Äîpress <code>p</code> to push your changes to <code>origin/main</code>.</p>
<p>Magit may ask for your GitHub credentials (username and password) if you haven‚Äôt configured them for SSH or token-based authentication. Enter the required information, and after a moment, the Magit buffer will reflect that the changes have been pushed:</p>
<pre tabindex="0"><code>Recent commits
56d6bd3 origin/main Code and Documentation Generated
4b1b6c8 Initial commit
</code></pre><p>At this point, your changes are live on GitHub. You can verify them by visiting your repository on GitHub.</p>
<h2 id="share-your-package">Share Your Package<a hidden class="anchor" aria-hidden="true" href="#share-your-package">#</a></h2>
<p>Your journey isn‚Äôt complete until you share your work! While this package may solve a particular problem for you, it‚Äôs likely someone else out there (out of the 8 billion people on Earth üåç) may face the same challenge in the future. Sharing your work could help them too.</p>
<p>Here are some ways to share your package:</p>
<ul>
<li>Post about it on your <strong>social networks</strong>.</li>
<li>Write a <strong>blog post</strong> about what it accomplishes.</li>
<li>Share it on platforms such as <a href="https://news.ycombinator.com">Hacker News</a> or <a href="https://lobste.rs">Lobste.rs</a>.</li>
<li>Mention it in relevant <strong>forums or communities</strong>.</li>
</ul>
<p>Whichever method you choose, don‚Äôt forget to share your amazing work with the world!</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://pavodive.github.io/tags/r/">R</a></li>
      <li><a href="https://pavodive.github.io/tags/emacs/">Emacs</a></li>
      <li><a href="https://pavodive.github.io/tags/ess/">ESS</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://pavodive.github.io/posts/spanish2/">
    <span class="title">¬´ Prev</span>
    <br>
    <span>Paquete spanish2 para R</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on x"
            href="https://x.com/intent/tweet/?text=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f&amp;hashtags=R%2cemacs%2cESS">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f&amp;title=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS&amp;summary=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS&amp;source=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f&title=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on whatsapp"
            href="https://api.whatsapp.com/send?text=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS%20-%20https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on telegram"
            href="https://telegram.me/share/url?text=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Writing an R package with Emacs and ESS on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Writing%20an%20R%20package%20with%20Emacs%20and%20ESS&u=https%3a%2f%2fpavodive.github.io%2fposts%2fwriting-r-package-emacs%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>¬© <a href="https://github.com/pavodive">pavodive</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
