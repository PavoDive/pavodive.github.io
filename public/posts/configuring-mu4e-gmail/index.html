<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Configure mu4e for gmail accounts in emacs | Reminders for Future Me</title>
<meta name="keywords" content="mu4e, emacs">
<meta name="description" content="This post shows how to configure mu4e for gmail accounts in emacs">
<meta name="author" content="Pavodive">
<link rel="canonical" href="https://pavodive.github.io/posts/configuring-mu4e-gmail/">
<meta name="google-site-verification" content="YvJuoNzJTDlnRvmEF5a6fHmF4Hu22y9GYZorrHYpLTU">
<link crossorigin="anonymous" href="/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css" integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://pavodive.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://pavodive.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://pavodive.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://pavodive.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://pavodive.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://pavodive.github.io/posts/configuring-mu4e-gmail/">
<link rel="alternate" hreflang="es" href="https://pavodive.github.io/es/posts/configuring-mu4e-gmail/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://pavodive.github.io/posts/configuring-mu4e-gmail/">
  <meta property="og:site_name" content="Reminders for Future Me">
  <meta property="og:title" content="Configure mu4e for gmail accounts in emacs">
  <meta property="og:description" content="This post shows how to configure mu4e for gmail accounts in emacs">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-02-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-02-24T00:00:00+00:00">
    <meta property="article:tag" content="Mu4e">
    <meta property="article:tag" content="Emacs">
      <meta property="og:image" content="https://pavodive.github.io/images/papermod-cover.png">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/swirly/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/bash_orgmode_certificate/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/superimpose_page_number_pdf/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/bash_scripts_rmarkdown/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/emacs_rss_elfeed/">
      <meta property="og:see_also" content="https://pavodive.github.io/posts/merge_pandas_operations/">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://pavodive.github.io/images/papermod-cover.png">
<meta name="twitter:title" content="Configure mu4e for gmail accounts in emacs">
<meta name="twitter:description" content="This post shows how to configure mu4e for gmail accounts in emacs">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://pavodive.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Configure mu4e for gmail accounts in emacs",
      "item": "https://pavodive.github.io/posts/configuring-mu4e-gmail/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Configure mu4e for gmail accounts in emacs",
  "name": "Configure mu4e for gmail accounts in emacs",
  "description": "This post shows how to configure mu4e for gmail accounts in emacs",
  "keywords": [
    "mu4e", "emacs"
  ],
  "articleBody": "In this blog post, I want to show how I configured mu4e to read my Gmail accounts in Emacs.\nA lot of my time in front of a computer is spent in Emacs. In fact, this very blog is being written in Emacs. My agenda is kept in Emacs, I code in Emacs, write in Emacs, and even read books in Emacs. So, naturally, I wanted to manage my email in Emacs as well.\nSince I have multiple Gmail accounts, I needed to configure an email reader within Emacs.\nEmail Alternatives in Emacs There are two main alternatives for reading email in Emacs: Gnus and mu4e. As with many things in Emacs, which one you choose depends on personal preference—both are powerful, highly customizable, and offer numerous features.\nI tried Gnus some time ago. It’s a very powerful message reader, not limited to email, and allows extensive customization. One of its highly praised features is the ability to assign scores to messages, helping you prioritize what’s most important.\nHowever, to be honest, I never really developed a good workflow with Gnus. It was too feature-rich for my needs. I don’t receive an overwhelming number of emails, as I’ve consistently trimmed unnecessary messages—no subscriptions, no newsletters, and most of my friends and colleagues know that I prefer a phone call over an email.\nSo, I tried the alternative: mu4e. In some ways, mu4e is simpler than Gnus. It’s not as multipurpose, but it still offers a lot of customization and features.\nmu4e When I first looked into mu4e, it seemed a bit complicated to install and configure—especially for Gmail. So, I approached it with some skepticism. mu4e was developed and is maintained by Dirk-Jan Binnema, and you can check out its official page here.\nWhile the documentation is great, it isn’t exactly beginner-friendly.\nDuring my research, I found one particularly useful resource for installing and configuring mu4e with Gmail: this Reddit thread. It’s quite comprehensive, but since it’s from 2019, I struggled with the various changes Google has made to Gmail since then.\nMost of what I’ll be sharing here is a reworking of what Reddit user skizmi wrote.\nInstalling mu4e and Dependencies I needed to install isync along with some libraries required by mu4e. Since I’m using a Debian-based Linux distribution, I ran:\nsudo apt update sudo apt install isync -f sudo apt install libgmime-3.0-dev libxapian-dev This installs isync and the libraries required by mu4e.\nNow, to install mu (I use an apps directory to store installed software):\nmkdir -p apps/mu4e git clone https://github.com/djcb/mu.git cd mu ./autogen.sh \u0026\u0026 make sudo make install This should install mu on your system. If you run into errors, carefully read the messages—it’s likely you’re missing some dependencies that can be installed with:\nsudo apt install [missing-library] Getting your Application-Specific Password From Google Now, we need an application-specific password for your Gmail account(s). Google encourages signing in via OAuth, but they still allow app-specific passwords for cases like this. Check this support page for more details.\nTo generate an app-specific password:\nVisit this link.\nEnter your credentials (you may need to provide two-factor authentication if enabled).\nSpecify a name for your app (choose something meaningful to you in the future).\nGoogle will provide a 16-character password formatted like this:\naaaa bbbb cccc dddd From the same page, you can remove unused or obsolete app-specific passwords. It’s good security practice to delete any that are no longer needed.\nSave this password—we’ll use it in the next steps.\nCreating the mbsync Configuration Files We need two files:\n.mbsyncrc .mbsyncpass (one per Gmail account) .mbsyncpass-test.gpg I recommend saving this file in ~/.emacs.d/mu4e/. In Emacs, create it with:\nC-x C-f ~/.emacs.d/mu4e/.mbsyncpass-test.gpg (Of course, replace “test” with your actual account name.) Paste your 16-character password into the file:\naaaa bbbb cccc dddd When you save (C-x C-s), Emacs will prompt you to select recipients for encryption. Confirm by hitting “OK”, provide a password (and confirm it), and your Gmail app-specific password will be encrypted.\nRepeat this for each Gmail account you’re configuring.\n.mbsyncrc Save this file in ~/.emacs.d/mu4e/. It contains account details, mail directories, and Gmail folder configurations.\nNote: Check whether your Gmail Trash folder is named “Trash” or “Bin”—this is crucial for proper operation.\nThe file’s contents are:\n# ACCOUNT INFORMATION IMAPAccount test-gmail # Address to connect to Host imap.gmail.com User test@gmail.com PassCmd \"gpg -q --for-your-eyes-only --no-tty -d ~/.emacs.d/mu4e/.mbsyncpass-test.gpg\" AuthMechs LOGIN SSLType IMAPS SSLVersions TLSv1.2 CertificateFile /etc/ssl/certs/ca-certificates.crt # REMOTE STORAGE (USE THE IMAP ACCOUNT SPECIFIED ABOVE) IMAPStore test-gmail-remote Account test-gmail # LOCAL STORAGE (CREATE DIRECTORIES with mkdir -p ~/Maildir/test-gmail) MaildirStore test-gmail-local Path ~/Maildir/test-gmail/ Inbox ~/Maildir/test-gmail/INBOX # CONNECTIONS SPECIFY LINKS BETWEEN REMOTE AND LOCAL FOLDERS # # CONNECTIONS ARE SPECIFIED USING PATTERNS, WHICH MATCH REMOTE MAIl # FOLDERS. SOME COMMONLY USED PATTERS INCLUDE: # # 1 \"*\" TO MATCH EVERYTHING # 2 \"!DIR\" TO EXCLUDE \"DIR\" # 3 \"DIR\" TO MATCH DIR Channel test-gmail-inbox Far :test-gmail-remote: Near :test-gmail-local: Patterns \"INBOX\" Create Both Expunge Both SyncState * Channel test-gmail-trash Far :test-gmail-remote:\"[Gmail]/Trash\" Near :test-gmail-local:\"[test].Trash\" Create Both Expunge Both SyncState * Channel test-gmail-sent Far :test-gmail-remote:\"[Gmail]/Sent Mail\" Near :test-gmail-local:\"[test].Sent Mail\" Create Both Expunge Both SyncState * Channel test-gmail-all Far :test-gmail-remote:\"[Gmail]/All Mail\" Near :test-gmail-local:\"[test].All Mail\" Create Both Expunge Both SyncState * Channel test-gmail-starred Far :test-gmail-remote:\"[Gmail]/Starred\" Near :test-gmail-local:\"[test].Starred\" Create Both Expunge Both SyncState * # GROUPS PUT TOGETHER CHANNELS, SO THAT WE CAN INVOKE # MBSYNC ON A GROUP TO SYNC ALL CHANNELS # # FOR INSTANCE: \"mbsync gmail\" GETS MAIL FROM # \"gmail-inbox\", \"gmail-sent\", and \"gmail-trash\" # Group test-gmail Channel test-gmail-inbox Channel test-gmail-sent Channel test-gmail-trash Channel test-gmail-all Channel test-gmail-starred If your trash is named “Bin”, replace:\nChannel test-gmail-trash Far :test-gmail-remote:\"[Gmail]/Trash\" Near :test-gmail-local:\"[test].Trash\" with:\nChannel test-gmail-trash Far :test-gmail-remote:\"[Gmail]/Bin\" Near :test-gmail-local:\"[test].Bin\" .authinfo.gpg If you don’t have a .authinfo.gpg file, create it in ~/.authinfo.gpg. Add:\nmachine smtp.gmail.com login test password \"aaaa bbbb cccc dddd\" port 465 machine imap.gmail.com login test password \"aaaa bbbb cccc dddd\" port 993 Replace “test” with your actual username and insert your app-specific password.\nFor multiple accounts, add entries for each one.\nCreating Maildir Folders and Running mbsync Next, create the Maildir directories and run mbsync:\nmkdir -p ~/Maildir/test-gmail (Be sure the name matches the IMAPAccount field in .mbsyncrc.) Repeat for each account.\nThen, run:\nmbsync -c .emacs.d/mu4e/.mbsyncrc -Dmn test-gmail Indexing Maildir Now, index your mail. This may take time, depending on the number and size of your stored messages.\nmu init --maildir=Maildir mu init --my-address=test@gmail.com mu index For multiple accounts, list them all in one line:\nmu init --my-address=test@gmail.com --my-address=other@gmail.com Adding mu4e Settings to .emacs Finally, add the necessary mu4e settings to your .emacs (or another initialization file).\n(require 'org-mime) (add-to-list 'load-path \"/usr/local/share/emacs/site-lisp/mu4e/\") (require 'mu4e) (setq mu4e-maildir (expand-file-name \"~/Maildir\")) ; get mail (setq mu4e-get-mail-command \"mbsync -c ~/.emacs.d/mu4e/.mbsyncrc -a\" mu4e-view-prefer-html t mu4e-update-interval 180 mu4e-headers-auto-update t mu4e-compose-signature-auto-include nil mu4e-compose-format-flowed t) ;; to view selected message in the browser, no signin, just html mail (add-to-list 'mu4e-view-actions '(\"ViewInBrowser\" . mu4e-action-view-in-browser) t) ;; enable inline images (setq mu4e-view-show-images t) ;; use imagemagick, if available (when (fboundp 'imagemagick-register-types) (imagemagick-register-types)) ;; every new email composition gets its own frame! (setq mu4e-compose-in-new-frame t) ;; don't save message to Sent Messages, IMAP takes care of this ;;(setq mu4e-sent-messages-behavior 'sent) (add-hook 'mu4e-view-mode-hook #'visual-line-mode) ;; to navigate to links, to open them in browser (add-hook 'mu4e-view-mode-hook (lambda() ;; try to emulate some of the eww key-bindings (local-set-key (kbd \"\") 'mu4e~view-browse-url-from-binding) (local-set-key (kbd \"\") 'shr-next-link) (local-set-key (kbd \"\") 'shr-previous-link))) ;; from https://www.reddit.com/r/emacs/comments/bfsck6/mu4e_for_dummies/elgoumx (add-hook 'mu4e-headers-mode-hook (defun my/mu4e-change-headers () (interactive) (setq mu4e-headers-fields `((:human-date . 25) ;; alternatively, use :date (:flags . 6) (:from . 22) (:thread-subject . ,(- (window-body-width) 70)) ;; alternatively, use :subject (:size . 7))))) ;; spell check (add-hook 'mu4e-compose-mode-hook (defun my-do-compose-stuff () \"My settings for message composition.\" (visual-line-mode) ; (org-mu4e-compose-org-mode) (use-hard-newlines -1) (flyspell-mode))) (require 'smtpmail) ;;rename files when moving ;;NEEDED FOR MBSYNC (setq mu4e-change-filenames-when-moving t) ;;set up queue for offline email ;;use mu mkdir ~/Maildir/acc/queue to set up first (setq smtpmail-queue-mail nil) ;; start in normal mode ;; copied from https://emacs.stackexchange.com/questions/46257/sending-email-fails-with-process-smtpmail-not-running (setq smtpmail-stream-type 'ssl) ;;from the info manual (setq mu4e-attachment-dir \"~/Downloads\") (setq message-kill-buffer-on-exit t) (setq mu4e-compose-dont-reply-to-self t) (require 'mu4e-org) ;; convert org mode to HTML automatically (setq org-mu4e-convert-to-html t) ;;from vxlabs config ;; show full addresses in view message (instead of just names) ;; toggle per name with M-RET (setq mu4e-view-show-addresses 't) ;; don't ask when quitting (setq mu4e-confirm-quit nil) ;; mu4e-context (setq mu4e-context-policy 'pick-first) (setq mu4e-compose-context-policy 'always-ask) (setq mu4e-contexts (list (make-mu4e-context :name \"gmail\" ;;for test-gmail :enter-func (lambda () (mu4e-message \"Entering context gmail\")) :leave-func (lambda () (mu4e-message \"Leaving context gmail\")) :match-func (lambda (msg) (when msg (mu4e-message-contact-field-matches msg '(:from :to :cc :bcc) \"test@gmail.com\"))) :vars '((user-mail-address . \"test@gmail.com\") (user-full-name . \"Full Name Here\") (mu4e-sent-folder . \"/test-gmail/[test].Sent\") (mu4e-drafts-folder . \"/test-gmail/[test].drafts\") (mu4e-trash-folder . \"/test-gmail/[test].Trash\") (mu4e-compose-signature . (concat \"My Name Here\\n\")) (mu4e-compose-format-flowed . t) (smtpmail-queue-dir . \"~/Maildir/test-gmail/queue/cur\") (message-send-mail-function . smtpmail-send-it) (smtpmail-smtp-user . \"test\") (smtpmail-starttls-credentials . ((\"smtp.gmail.com\" 465 nil nil))) (smtpmail-auth-credentials . (expand-file-name \"~/.authinfo.gpg\")) (smtpmail-default-smtp-server . \"smtp.gmail.com\") (smtpmail-smtp-server . \"smtp.gmail.com\") (smtpmail-smtp-service . 465) (smtpmail-debug-info . t) (smtpmail-debug-verbose . t) (mu4e-maildir-shortcuts . ( (\"/test-gmail/INBOX\" . ?i) (\"/test-gmail/[test].Sent Mail\" . ?s) (\"/test-gmail/[test].Bin\" . ?t) (\"/test-gmail/[test].All Mail\" . ?a) (\"/test-gmail/[test].Starred\" . ?r) (\"/test-gmail/[test].drafts\" . ?d) )))))) If configuring multiple accounts, add them to the mu4e-contexts list, ensuring each has a unique :name.\nAgain, configure the trash folder correctly (either “Trash” or “Bin”).\nEnjoy mu4e Now, restart Emacs and launch mu4e:\nM-x mu4e You should see the mu4e menu. From there, it’s relatively straightforward. To explore available commands, press h within the mu4e-main buffer.\nHappy emailing in Emacs! 🚀\n",
  "wordCount" : "1567",
  "inLanguage": "en",
  "image": "https://pavodive.github.io/images/papermod-cover.png","datePublished": "2025-02-24T00:00:00Z",
  "dateModified": "2025-02-24T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Pavodive"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://pavodive.github.io/posts/configuring-mu4e-gmail/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Reminders for Future Me",
    "logo": {
      "@type": "ImageObject",
      "url": "https://pavodive.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://pavodive.github.io/" accesskey="h" title="Reminders for Future Me (Alt + H)">Reminders for Future Me</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                    <li>
                        <a href="https://pavodive.github.io/es/" title="🇪🇸"
                            aria-label=":es:">🇪🇸</a>
                    </li>
                </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://pavodive.github.io/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="https://pavodive.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://pavodive.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://pavodive.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://pavodive.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Configure mu4e for gmail accounts in emacs
    </h1>
    <div class="post-description">
      This post shows how to configure mu4e for gmail accounts in emacs
    </div>
    <div class="post-meta"><span title='2025-02-24 00:00:00 +0000 UTC'>February 24, 2025</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;Pavodive&nbsp;|&nbsp;Translations:
<ul class="i18n_list">
    <li>
        <a href="https://pavodive.github.io/es/posts/configuring-mu4e-gmail/">🇪🇸</a>
    </li>
</ul>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#email-alternatives-in-emacs" aria-label="Email Alternatives in Emacs">Email Alternatives in Emacs</a></li>
                <li>
                    <a href="#mu4e" aria-label="mu4e">mu4e</a></li>
                <li>
                    <a href="#installing-mu4e-and-dependencies" aria-label="Installing mu4e and Dependencies">Installing mu4e and Dependencies</a></li>
                <li>
                    <a href="#getting-your-application-specific-password-from-google" aria-label="Getting your Application-Specific Password From Google">Getting your Application-Specific Password From Google</a></li>
                <li>
                    <a href="#creating-the-mbsync-configuration-files" aria-label="Creating the mbsync Configuration Files">Creating the mbsync Configuration Files</a><ul>
                        
                <li>
                    <a href="#mbsyncpass-testgpg" aria-label=".mbsyncpass-test.gpg">.mbsyncpass-test.gpg</a></li>
                <li>
                    <a href="#mbsyncrc" aria-label=".mbsyncrc">.mbsyncrc</a></li>
                <li>
                    <a href="#authinfogpg" aria-label=".authinfo.gpg">.authinfo.gpg</a></li></ul>
                </li>
                <li>
                    <a href="#creating-maildir-folders-and-running-mbsync" aria-label="Creating Maildir Folders and Running mbsync">Creating Maildir Folders and Running mbsync</a></li>
                <li>
                    <a href="#indexing-maildir" aria-label="Indexing Maildir">Indexing Maildir</a></li>
                <li>
                    <a href="#adding-mu4e-settings-to-emacs" aria-label="Adding mu4e Settings to .emacs">Adding mu4e Settings to .emacs</a></li>
                <li>
                    <a href="#enjoy-mu4e" aria-label="Enjoy mu4e">Enjoy mu4e</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>In this blog post, I want to show how I configured <strong>mu4e</strong> to read my Gmail accounts in Emacs.</p>
<p>A lot of my time in front of a computer is spent in Emacs. In fact, this very blog is being written in Emacs. My agenda is kept in Emacs, I code in Emacs, write in Emacs, and even read books in Emacs. So, naturally, I wanted to manage my email in Emacs as well.</p>
<p>Since I have multiple Gmail accounts, I needed to configure an email reader within Emacs.</p>
<h2 id="email-alternatives-in-emacs">Email Alternatives in Emacs<a hidden class="anchor" aria-hidden="true" href="#email-alternatives-in-emacs">#</a></h2>
<p>There are two main alternatives for reading email in Emacs: <strong>Gnus</strong> and <strong>mu4e</strong>. As with many things in Emacs, which one you choose depends on personal preference—both are powerful, highly customizable, and offer numerous features.</p>
<p>I tried <strong>Gnus</strong> some time ago. It’s a very powerful message reader, not limited to email, and allows extensive customization. One of its highly praised features is the ability to assign scores to messages, helping you prioritize what&rsquo;s most important.</p>
<p>However, to be honest, I never really developed a good workflow with Gnus. It was too feature-rich for my needs. I don’t receive an overwhelming number of emails, as I’ve consistently trimmed unnecessary messages—no subscriptions, no newsletters, and most of my friends and colleagues know that I prefer a phone call over an email.</p>
<p>So, I tried the alternative: <strong>mu4e</strong>. In some ways, <strong>mu4e</strong> is simpler than <strong>Gnus</strong>. It’s not as multipurpose, but it still offers a lot of customization and features.</p>
<h2 id="mu4e">mu4e<a hidden class="anchor" aria-hidden="true" href="#mu4e">#</a></h2>
<p>When I first looked into <strong>mu4e</strong>, it seemed a bit complicated to install and configure—especially for Gmail. So, I approached it with some skepticism. <strong>mu4e</strong> was developed and is maintained by Dirk-Jan Binnema, and you can check out its official page <a href="https://www.djcbsoftware.nl/code/mu/mu4e.html" title="mu4e docs">here</a>.</p>
<p>While the documentation is great, it isn’t exactly beginner-friendly.</p>
<p>During my research, I found one particularly useful resource for installing and configuring <strong>mu4e</strong> with Gmail: <a href="https://www.reddit.com/r/emacs/comments/bfsck6/mu4e_for_dummies/">this Reddit thread</a>. It&rsquo;s quite comprehensive, but since it&rsquo;s from 2019, I struggled with the various changes Google has made to Gmail since then.</p>
<p>Most of what I’ll be sharing here is a reworking of what Reddit user <strong>skizmi</strong> wrote.</p>
<h2 id="installing-mu4e-and-dependencies">Installing mu4e and Dependencies<a hidden class="anchor" aria-hidden="true" href="#installing-mu4e-and-dependencies">#</a></h2>
<p>I needed to install <code>isync</code> along with some libraries required by <strong>mu4e</strong>. Since I’m using a Debian-based Linux distribution, I ran:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt update
</span></span><span class="line"><span class="cl">sudo apt install isync -f
</span></span><span class="line"><span class="cl">sudo apt install libgmime-3.0-dev libxapian-dev
</span></span></code></pre></div><p>This installs <code>isync</code> and the libraries required by <strong>mu4e</strong>.</p>
<p>Now, to install <strong>mu</strong> (I use an <code>apps</code> directory to store installed software):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir -p apps/mu4e
</span></span><span class="line"><span class="cl">git clone https://github.com/djcb/mu.git
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> mu
</span></span><span class="line"><span class="cl">./autogen.sh <span class="o">&amp;&amp;</span> make
</span></span><span class="line"><span class="cl">sudo make install
</span></span></code></pre></div><p>This should install <strong>mu</strong> on your system. If you run into errors, carefully read the messages—it&rsquo;s likely you&rsquo;re missing some dependencies that can be installed with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo apt install <span class="o">[</span>missing-library<span class="o">]</span>
</span></span></code></pre></div><h2 id="getting-your-application-specific-password-from-google">Getting your Application-Specific Password From Google<a hidden class="anchor" aria-hidden="true" href="#getting-your-application-specific-password-from-google">#</a></h2>
<p>Now, we need an application-specific password for your Gmail account(s). Google encourages signing in via OAuth, but they still allow app-specific passwords for cases like this. Check <a href="https://support.google.com/accounts/answer/185833">this support page</a> for more details.</p>
<p>To generate an app-specific password:</p>
<ol>
<li>
<p>Visit <a href="https://myaccount.google.com/apppasswords">this link</a>.</p>
</li>
<li>
<p>Enter your credentials (you may need to provide two-factor authentication if enabled).</p>
</li>
<li>
<p>Specify a name for your app (choose something meaningful to <strong>you</strong> in the future).</p>
</li>
<li>
<p>Google will provide a 16-character password formatted like this:</p>
<pre tabindex="0"><code>aaaa bbbb cccc dddd
</code></pre></li>
</ol>
<p>From the same page, you can remove unused or obsolete app-specific passwords. It’s good security practice to delete any that are no longer needed.</p>
<p>Save this password—we’ll use it in the next steps.</p>
<h2 id="creating-the-mbsync-configuration-files">Creating the <code>mbsync</code> Configuration Files<a hidden class="anchor" aria-hidden="true" href="#creating-the-mbsync-configuration-files">#</a></h2>
<p>We need two files:</p>
<ol>
<li><code>.mbsyncrc</code></li>
<li><code>.mbsyncpass</code> (one per Gmail account)</li>
</ol>
<h3 id="mbsyncpass-testgpg"><code>.mbsyncpass-test.gpg</code><a hidden class="anchor" aria-hidden="true" href="#mbsyncpass-testgpg">#</a></h3>
<p>I recommend saving this file in <code>~/.emacs.d/mu4e/</code>. In Emacs, create it with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="nv">C-x</span> <span class="nv">C-f</span> <span class="nv">~/.emacs.d/mu4e/.mbsyncpass-test.gpg</span>
</span></span></code></pre></div><p>(Of course, replace &ldquo;test&rdquo; with your actual account name.) Paste your 16-character password into the file:</p>
<pre tabindex="0"><code>aaaa bbbb cccc dddd
</code></pre><p>When you save (<code>C-x C-s</code>), Emacs will prompt you to select recipients for encryption. Confirm by hitting &ldquo;OK&rdquo;, provide a password (and confirm it), and your Gmail app-specific password will be encrypted.</p>
<p>Repeat this for each Gmail account you’re configuring.</p>
<h3 id="mbsyncrc"><code>.mbsyncrc</code><a hidden class="anchor" aria-hidden="true" href="#mbsyncrc">#</a></h3>
<p>Save this file in <code>~/.emacs.d/mu4e/</code>. It contains account details, mail directories, and Gmail folder configurations.</p>
<p><strong>Note</strong>: Check whether your Gmail Trash folder is named <strong>&ldquo;Trash&rdquo;</strong> or <strong>&ldquo;Bin&rdquo;</strong>—this is crucial for proper operation.</p>
<p>The file&rsquo;s contents are:</p>
<pre tabindex="0"><code class="language-config" data-lang="config"># ACCOUNT INFORMATION
IMAPAccount test-gmail
# Address to connect to
Host imap.gmail.com
User test@gmail.com
PassCmd &#34;gpg -q --for-your-eyes-only --no-tty -d ~/.emacs.d/mu4e/.mbsyncpass-test.gpg&#34;
AuthMechs LOGIN
SSLType IMAPS
SSLVersions TLSv1.2
CertificateFile /etc/ssl/certs/ca-certificates.crt

# REMOTE STORAGE (USE THE IMAP ACCOUNT SPECIFIED ABOVE)
IMAPStore test-gmail-remote
Account test-gmail

# LOCAL STORAGE (CREATE DIRECTORIES with mkdir -p ~/Maildir/test-gmail)
MaildirStore test-gmail-local
Path ~/Maildir/test-gmail/
Inbox ~/Maildir/test-gmail/INBOX

# CONNECTIONS SPECIFY LINKS BETWEEN REMOTE AND LOCAL FOLDERS
#
# CONNECTIONS ARE SPECIFIED USING PATTERNS, WHICH MATCH REMOTE MAIl
# FOLDERS. SOME COMMONLY USED PATTERS INCLUDE:
#
# 1 &#34;*&#34; TO MATCH EVERYTHING
# 2 &#34;!DIR&#34; TO EXCLUDE &#34;DIR&#34;
# 3 &#34;DIR&#34; TO MATCH DIR

Channel test-gmail-inbox
Far :test-gmail-remote:
Near :test-gmail-local:
Patterns &#34;INBOX&#34;
Create Both
Expunge Both
SyncState *

Channel test-gmail-trash
Far :test-gmail-remote:&#34;[Gmail]/Trash&#34;
Near :test-gmail-local:&#34;[test].Trash&#34;
Create Both
Expunge Both
SyncState *

Channel test-gmail-sent
Far :test-gmail-remote:&#34;[Gmail]/Sent Mail&#34;
Near :test-gmail-local:&#34;[test].Sent Mail&#34;
Create Both
Expunge Both
SyncState *

Channel test-gmail-all
Far :test-gmail-remote:&#34;[Gmail]/All Mail&#34;
Near :test-gmail-local:&#34;[test].All Mail&#34;
Create Both
Expunge Both
SyncState *

Channel test-gmail-starred
Far :test-gmail-remote:&#34;[Gmail]/Starred&#34;
Near :test-gmail-local:&#34;[test].Starred&#34;
Create Both
Expunge Both
SyncState *

# GROUPS PUT TOGETHER CHANNELS, SO THAT WE CAN INVOKE
# MBSYNC ON A GROUP TO SYNC ALL CHANNELS
#
# FOR INSTANCE: &#34;mbsync gmail&#34; GETS MAIL FROM
# &#34;gmail-inbox&#34;, &#34;gmail-sent&#34;, and &#34;gmail-trash&#34;
#
Group test-gmail
Channel test-gmail-inbox
Channel test-gmail-sent
Channel test-gmail-trash
Channel test-gmail-all
Channel test-gmail-starred
</code></pre><p>If your trash is named <strong>&ldquo;Bin&rdquo;</strong>, replace:</p>
<pre tabindex="0"><code class="language-config" data-lang="config">Channel test-gmail-trash
Far :test-gmail-remote:&#34;[Gmail]/Trash&#34;
Near :test-gmail-local:&#34;[test].Trash&#34;
</code></pre><p>with:</p>
<pre tabindex="0"><code class="language-config" data-lang="config">Channel test-gmail-trash
Far :test-gmail-remote:&#34;[Gmail]/Bin&#34;
Near :test-gmail-local:&#34;[test].Bin&#34;
</code></pre><h3 id="authinfogpg"><code>.authinfo.gpg</code><a hidden class="anchor" aria-hidden="true" href="#authinfogpg">#</a></h3>
<p>If you don’t have a <code>.authinfo.gpg</code> file, create it in <code>~/.authinfo.gpg</code>. Add:</p>
<pre tabindex="0"><code class="language-config" data-lang="config">machine smtp.gmail.com login test password &#34;aaaa bbbb cccc dddd&#34; port 465
machine imap.gmail.com login test password &#34;aaaa bbbb cccc dddd&#34; port 993
</code></pre><p>Replace “test” with your actual username and insert your app-specific password.</p>
<p>For multiple accounts, add entries for each one.</p>
<h2 id="creating-maildir-folders-and-running-mbsync">Creating Maildir Folders and Running <code>mbsync</code><a hidden class="anchor" aria-hidden="true" href="#creating-maildir-folders-and-running-mbsync">#</a></h2>
<p>Next, create the Maildir directories and run <code>mbsync</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir -p ~/Maildir/test-gmail
</span></span></code></pre></div><p>(Be sure the name matches the <strong>IMAPAccount</strong> field in <code>.mbsyncrc</code>.) Repeat for each account.</p>
<p>Then, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mbsync -c .emacs.d/mu4e/.mbsyncrc -Dmn test-gmail
</span></span></code></pre></div><h2 id="indexing-maildir">Indexing Maildir<a hidden class="anchor" aria-hidden="true" href="#indexing-maildir">#</a></h2>
<p>Now, index your mail. This may take time, depending on the number and size of your stored messages.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mu init --maildir<span class="o">=</span>Maildir
</span></span><span class="line"><span class="cl">mu init --my-address<span class="o">=</span>test@gmail.com
</span></span><span class="line"><span class="cl">mu index
</span></span></code></pre></div><p>For multiple accounts, list them all in one line:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mu init --my-address<span class="o">=</span>test@gmail.com --my-address<span class="o">=</span>other@gmail.com
</span></span></code></pre></div><h2 id="adding-mu4e-settings-to-emacs">Adding mu4e Settings to <code>.emacs</code><a hidden class="anchor" aria-hidden="true" href="#adding-mu4e-settings-to-emacs">#</a></h2>
<p>Finally, add the necessary <strong>mu4e</strong> settings to your <code>.emacs</code> (or another initialization file).</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-lisp" data-lang="lisp"><span class="line"><span class="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;org-mime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;load-path</span> <span class="s">&#34;/usr/local/share/emacs/site-lisp/mu4e/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;mu4e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-maildir</span> <span class="p">(</span><span class="nv">expand-file-name</span> <span class="s">&#34;~/Maildir&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">; get mail</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-get-mail-command</span> <span class="s">&#34;mbsync -c ~/.emacs.d/mu4e/.mbsyncrc -a&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="nv">mu4e-view-prefer-html</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">  <span class="nv">mu4e-update-interval</span> <span class="mi">180</span>
</span></span><span class="line"><span class="cl">  <span class="nv">mu4e-headers-auto-update</span> <span class="no">t</span>
</span></span><span class="line"><span class="cl">  <span class="nv">mu4e-compose-signature-auto-include</span> <span class="no">nil</span>
</span></span><span class="line"><span class="cl">  <span class="nv">mu4e-compose-format-flowed</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; to view selected message in the browser, no signin, just html mail</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">&#39;mu4e-view-actions</span>
</span></span><span class="line"><span class="cl">  <span class="o">&#39;</span><span class="p">(</span><span class="s">&#34;ViewInBrowser&#34;</span> <span class="o">.</span> <span class="nv">mu4e-action-view-in-browser</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; enable inline images</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-view-show-images</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; use imagemagick, if available</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nf">fboundp</span> <span class="ss">&#39;imagemagick-register-types</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nv">imagemagick-register-types</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; every new email composition gets its own frame!</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-compose-in-new-frame</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; don&#39;t save message to Sent Messages, IMAP takes care of this</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;(setq mu4e-sent-messages-behavior &#39;sent)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;mu4e-view-mode-hook</span> <span class="nf">#&#39;</span><span class="nv">visual-line-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; &lt;tab&gt; to navigate to links, &lt;RET&gt; to open them in browser</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;mu4e-view-mode-hook</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nb">lambda</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; try to emulate some of the eww key-bindings</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">local-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;RET&gt;&#34;</span><span class="p">)</span> <span class="ss">&#39;mu4e~view-browse-url-from-binding</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">local-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;tab&gt;&#34;</span><span class="p">)</span> <span class="ss">&#39;shr-next-link</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">local-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&#34;&lt;backtab&gt;&#34;</span><span class="p">)</span> <span class="ss">&#39;shr-previous-link</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; from https://www.reddit.com/r/emacs/comments/bfsck6/mu4e_for_dummies/elgoumx</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;mu4e-headers-mode-hook</span>
</span></span><span class="line"><span class="cl">      <span class="p">(</span><span class="nb">defun</span> <span class="nv">my/mu4e-change-headers</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-headers-fields</span>
</span></span><span class="line"><span class="cl">	      <span class="o">`</span><span class="p">((</span><span class="ss">:human-date</span> <span class="o">.</span> <span class="mi">25</span><span class="p">)</span> <span class="c1">;; alternatively, use :date</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="ss">:flags</span> <span class="o">.</span> <span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="ss">:from</span> <span class="o">.</span> <span class="mi">22</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="ss">:thread-subject</span> <span class="o">.</span> <span class="o">,</span><span class="p">(</span><span class="nf">-</span> <span class="p">(</span><span class="nv">window-body-width</span><span class="p">)</span> <span class="mi">70</span><span class="p">))</span> <span class="c1">;; alternatively, use :subject</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="ss">:size</span> <span class="o">.</span> <span class="mi">7</span><span class="p">)))))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; spell check</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">&#39;mu4e-compose-mode-hook</span>
</span></span><span class="line"><span class="cl">    <span class="p">(</span><span class="nb">defun</span> <span class="nv">my-do-compose-stuff</span> <span class="p">()</span>
</span></span><span class="line"><span class="cl">       <span class="s">&#34;My settings for message composition.&#34;</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nv">visual-line-mode</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;       (org-mu4e-compose-org-mode)</span>
</span></span><span class="line"><span class="cl">           <span class="p">(</span><span class="nv">use-hard-newlines</span> <span class="mi">-1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">       <span class="p">(</span><span class="nv">flyspell-mode</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;smtpmail</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;rename files when moving</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;NEEDED FOR MBSYNC</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-change-filenames-when-moving</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;set up queue for offline email</span>
</span></span><span class="line"><span class="cl"><span class="c1">;;use mu mkdir  ~/Maildir/acc/queue to set up first</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">smtpmail-queue-mail</span> <span class="no">nil</span><span class="p">)</span>  <span class="c1">;; start in normal mode</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; copied from https://emacs.stackexchange.com/questions/46257/sending-email-fails-with-process-smtpmail-not-running</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">smtpmail-stream-type</span> <span class="ss">&#39;ssl</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;from the info manual</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-attachment-dir</span>  <span class="s">&#34;~/Downloads&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">message-kill-buffer-on-exit</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-compose-dont-reply-to-self</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nf">require</span> <span class="ss">&#39;mu4e-org</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; convert org mode to HTML automatically</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">org-mu4e-convert-to-html</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;;from vxlabs config</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; show full addresses in view message (instead of just names)</span>
</span></span><span class="line"><span class="cl"><span class="c1">;; toggle per name with M-RET</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-view-show-addresses</span> <span class="ss">&#39;t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; don&#39;t ask when quitting</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-confirm-quit</span> <span class="no">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">;; mu4e-context</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-context-policy</span> <span class="ss">&#39;pick-first</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-compose-context-policy</span> <span class="ss">&#39;always-ask</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="k">setq</span> <span class="nv">mu4e-contexts</span>
</span></span><span class="line"><span class="cl">  <span class="p">(</span><span class="nc">list</span>
</span></span><span class="line"><span class="cl">   <span class="p">(</span><span class="nv">make-mu4e-context</span>
</span></span><span class="line"><span class="cl">    <span class="ss">:name</span> <span class="s">&#34;gmail&#34;</span> <span class="c1">;;for test-gmail</span>
</span></span><span class="line"><span class="cl">    <span class="ss">:enter-func</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nv">mu4e-message</span> <span class="s">&#34;Entering context gmail&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="ss">:leave-func</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="nv">mu4e-message</span> <span class="s">&#34;Leaving context gmail&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="ss">:match-func</span> <span class="p">(</span><span class="nb">lambda</span> <span class="p">(</span><span class="nv">msg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		  <span class="p">(</span><span class="nb">when</span> <span class="nv">msg</span>
</span></span><span class="line"><span class="cl">		<span class="p">(</span><span class="nv">mu4e-message-contact-field-matches</span>
</span></span><span class="line"><span class="cl">		 <span class="nv">msg</span> <span class="o">&#39;</span><span class="p">(</span><span class="ss">:from</span> <span class="ss">:to</span> <span class="ss">:cc</span> <span class="ss">:bcc</span><span class="p">)</span> <span class="s">&#34;test@gmail.com&#34;</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">    <span class="ss">:vars</span> <span class="o">&#39;</span><span class="p">((</span><span class="nv">user-mail-address</span> <span class="o">.</span> <span class="s">&#34;test@gmail.com&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">user-full-name</span> <span class="o">.</span> <span class="s">&#34;Full Name Here&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-sent-folder</span> <span class="o">.</span> <span class="s">&#34;/test-gmail/[test].Sent&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-drafts-folder</span> <span class="o">.</span> <span class="s">&#34;/test-gmail/[test].drafts&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-trash-folder</span> <span class="o">.</span> <span class="s">&#34;/test-gmail/[test].Trash&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-compose-signature</span> <span class="o">.</span> <span class="p">(</span><span class="nv">concat</span> <span class="s">&#34;My Name Here\n&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-compose-format-flowed</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-queue-dir</span> <span class="o">.</span> <span class="s">&#34;~/Maildir/test-gmail/queue/cur&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">message-send-mail-function</span> <span class="o">.</span> <span class="nv">smtpmail-send-it</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-smtp-user</span> <span class="o">.</span> <span class="s">&#34;test&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-starttls-credentials</span> <span class="o">.</span> <span class="p">((</span><span class="s">&#34;smtp.gmail.com&#34;</span> <span class="mi">465</span> <span class="no">nil</span> <span class="no">nil</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-auth-credentials</span> <span class="o">.</span> <span class="p">(</span><span class="nv">expand-file-name</span> <span class="s">&#34;~/.authinfo.gpg&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-default-smtp-server</span> <span class="o">.</span> <span class="s">&#34;smtp.gmail.com&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-smtp-server</span> <span class="o">.</span> <span class="s">&#34;smtp.gmail.com&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-smtp-service</span> <span class="o">.</span> <span class="mi">465</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-debug-info</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">smtpmail-debug-verbose</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	    <span class="p">(</span><span class="nv">mu4e-maildir-shortcuts</span> <span class="o">.</span> <span class="p">(</span> <span class="p">(</span><span class="s">&#34;/test-gmail/INBOX&#34;</span>            <span class="o">.</span> <span class="nv">?i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="p">(</span><span class="s">&#34;/test-gmail/[test].Sent Mail&#34;</span> <span class="o">.</span> <span class="nv">?s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="p">(</span><span class="s">&#34;/test-gmail/[test].Bin&#34;</span>       <span class="o">.</span> <span class="nv">?t</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="p">(</span><span class="s">&#34;/test-gmail/[test].All Mail&#34;</span>  <span class="o">.</span> <span class="nv">?a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="p">(</span><span class="s">&#34;/test-gmail/[test].Starred&#34;</span>   <span class="o">.</span> <span class="nv">?r</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					<span class="p">(</span><span class="s">&#34;/test-gmail/[test].drafts&#34;</span>    <span class="o">.</span> <span class="nv">?d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">					               <span class="p">))))))</span>
</span></span></code></pre></div><p>If configuring multiple accounts, add them to the <code>mu4e-contexts</code> list, ensuring each has a <strong>unique</strong> <code>:name</code>.</p>
<p>Again, configure the trash folder correctly (either <strong>&ldquo;Trash&rdquo;</strong> or <strong>&ldquo;Bin&rdquo;</strong>).</p>
<h2 id="enjoy-mu4e">Enjoy mu4e<a hidden class="anchor" aria-hidden="true" href="#enjoy-mu4e">#</a></h2>
<p>Now, restart Emacs and launch <strong>mu4e</strong>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span class="line"><span class="cl"><span class="nv">M-x</span> <span class="nv">mu4e</span>
</span></span></code></pre></div><p>You should see the <strong>mu4e</strong> menu. From there, it&rsquo;s relatively straightforward. To explore available commands, press <code>h</code> within the <code>mu4e-main</code> buffer.</p>
<p>Happy emailing in Emacs! 🚀</p>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://pavodive.github.io/tags/mu4e/">Mu4e</a></li>
      <li><a href="https://pavodive.github.io/tags/emacs/">Emacs</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://pavodive.github.io/posts/superimpose_page_number_pdf/">
    <span class="title">« Prev</span>
    <br>
    <span>Adding Page Numbers to a PDF Document</span>
  </a>
  <a class="next" href="https://pavodive.github.io/posts/bash_scripts_rmarkdown/">
    <span class="title">Next »</span>
    <br>
    <span>Automating RMarkdown Rendering and PDF Merging with Bash</span>
  </a>
</nav>


<ul class="share-buttons">
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on x"
            href="https://x.com/intent/tweet/?text=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f&amp;hashtags=mu4e%2cemacs">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M512 62.554 L 512 449.446 C 512 483.97 483.97 512 449.446 512 L 62.554 512 C 28.03 512 0 483.97 0 449.446 L 0 62.554 C 0 28.03 28.029 0 62.554 0 L 449.446 0 C 483.971 0 512 28.03 512 62.554 Z M 269.951 190.75 L 182.567 75.216 L 56 75.216 L 207.216 272.95 L 63.9 436.783 L 125.266 436.783 L 235.9 310.383 L 332.567 436.783 L 456 436.783 L 298.367 228.367 L 432.367 75.216 L 371.033 75.216 Z M 127.633 110 L 164.101 110 L 383.481 400.065 L 349.5 400.065 Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on linkedin"
            href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f&amp;title=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs&amp;summary=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs&amp;source=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on reddit"
            href="https://reddit.com/submit?url=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f&title=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-3.446,265.638c0,-22.964 -18.616,-41.58 -41.58,-41.58c-11.211,0 -21.361,4.457 -28.841,11.666c-28.424,-20.508 -67.586,-33.757 -111.204,-35.278l18.941,-89.121l61.884,13.157c0.756,15.734 13.642,28.29 29.56,28.29c16.407,0 29.706,-13.299 29.706,-29.701c0,-16.403 -13.299,-29.702 -29.706,-29.702c-11.666,0 -21.657,6.792 -26.515,16.578l-69.105,-14.69c-1.922,-0.418 -3.939,-0.042 -5.585,1.036c-1.658,1.073 -2.811,2.761 -3.224,4.686l-21.152,99.438c-44.258,1.228 -84.046,14.494 -112.837,35.232c-7.468,-7.164 -17.589,-11.591 -28.757,-11.591c-22.965,0 -41.585,18.616 -41.585,41.58c0,16.896 10.095,31.41 24.568,37.918c-0.639,4.135 -0.99,8.328 -0.99,12.576c0,63.977 74.469,115.836 166.33,115.836c91.861,0 166.334,-51.859 166.334,-115.836c0,-4.218 -0.347,-8.387 -0.977,-12.493c14.564,-6.47 24.735,-21.034 24.735,-38.001Zm-119.474,108.193c-20.27,20.241 -59.115,21.816 -70.534,21.816c-11.428,0 -50.277,-1.575 -70.522,-21.82c-3.007,-3.008 -3.007,-7.882 0,-10.889c3.003,-2.999 7.882,-3.003 10.885,0c12.777,12.781 40.11,17.317 59.637,17.317c19.522,0 46.86,-4.536 59.657,-17.321c3.016,-2.999 7.886,-2.995 10.885,0.008c3.008,3.011 3.003,7.882 -0.008,10.889Zm-5.23,-48.781c-16.373,0 -29.701,-13.324 -29.701,-29.698c0,-16.381 13.328,-29.714 29.701,-29.714c16.378,0 29.706,13.333 29.706,29.714c0,16.374 -13.328,29.698 -29.706,29.698Zm-160.386,-29.702c0,-16.381 13.328,-29.71 29.714,-29.71c16.369,0 29.689,13.329 29.689,29.71c0,16.373 -13.32,29.693 -29.689,29.693c-16.386,0 -29.714,-13.32 -29.714,-29.693Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on facebook"
            href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-106.468,0l0,-192.915l66.6,0l12.672,-82.621l-79.272,0l0,-53.617c0,-22.603 11.073,-44.636 46.58,-44.636l36.042,0l0,-70.34c0,0 -32.71,-5.582 -63.982,-5.582c-65.288,0 -107.96,39.569 -107.96,111.204l0,62.971l-72.573,0l0,82.621l72.573,0l0,192.915l-191.104,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on whatsapp"
            href="https://api.whatsapp.com/send?text=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs%20-%20https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f">
            <svg version="1.1" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px" fill="currentColor">
                <path
                    d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-58.673,127.703c-33.842,-33.881 -78.847,-52.548 -126.798,-52.568c-98.799,0 -179.21,80.405 -179.249,179.234c-0.013,31.593 8.241,62.428 23.927,89.612l-25.429,92.884l95.021,-24.925c26.181,14.28 55.659,21.807 85.658,21.816l0.074,0c98.789,0 179.206,-80.413 179.247,-179.243c0.018,-47.895 -18.61,-92.93 -52.451,-126.81Zm-126.797,275.782l-0.06,0c-26.734,-0.01 -52.954,-7.193 -75.828,-20.767l-5.441,-3.229l-56.386,14.792l15.05,-54.977l-3.542,-5.637c-14.913,-23.72 -22.791,-51.136 -22.779,-79.287c0.033,-82.142 66.867,-148.971 149.046,-148.971c39.793,0.014 77.199,15.531 105.329,43.692c28.128,28.16 43.609,65.592 43.594,105.4c-0.034,82.149 -66.866,148.983 -148.983,148.984Zm81.721,-111.581c-4.479,-2.242 -26.499,-13.075 -30.604,-14.571c-4.105,-1.495 -7.091,-2.241 -10.077,2.241c-2.986,4.483 -11.569,14.572 -14.182,17.562c-2.612,2.988 -5.225,3.364 -9.703,1.12c-4.479,-2.241 -18.91,-6.97 -36.017,-22.23c-13.314,-11.876 -22.304,-26.542 -24.916,-31.026c-2.612,-4.484 -0.279,-6.908 1.963,-9.14c2.016,-2.007 4.48,-5.232 6.719,-7.847c2.24,-2.615 2.986,-4.484 4.479,-7.472c1.493,-2.99 0.747,-5.604 -0.374,-7.846c-1.119,-2.241 -10.077,-24.288 -13.809,-33.256c-3.635,-8.733 -7.327,-7.55 -10.077,-7.688c-2.609,-0.13 -5.598,-0.158 -8.583,-0.158c-2.986,0 -7.839,1.121 -11.944,5.604c-4.105,4.484 -15.675,15.32 -15.675,37.364c0,22.046 16.048,43.342 18.287,46.332c2.24,2.99 31.582,48.227 76.511,67.627c10.685,4.615 19.028,7.371 25.533,9.434c10.728,3.41 20.492,2.929 28.209,1.775c8.605,-1.285 26.499,-10.833 30.231,-21.295c3.732,-10.464 3.732,-19.431 2.612,-21.298c-1.119,-1.869 -4.105,-2.99 -8.583,-5.232Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on telegram"
            href="https://telegram.me/share/url?text=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs&amp;url=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f">
            <svg version="1.1" xml:space="preserve" viewBox="2 2 28 28" height="30px" width="30px" fill="currentColor">
                <path
                    d="M26.49,29.86H5.5a3.37,3.37,0,0,1-2.47-1,3.35,3.35,0,0,1-1-2.47V5.48A3.36,3.36,0,0,1,3,3,3.37,3.37,0,0,1,5.5,2h21A3.38,3.38,0,0,1,29,3a3.36,3.36,0,0,1,1,2.46V26.37a3.35,3.35,0,0,1-1,2.47A3.38,3.38,0,0,1,26.49,29.86Zm-5.38-6.71a.79.79,0,0,0,.85-.66L24.73,9.24a.55.55,0,0,0-.18-.46.62.62,0,0,0-.41-.17q-.08,0-16.53,6.11a.59.59,0,0,0-.41.59.57.57,0,0,0,.43.52l4,1.24,1.61,4.83a.62.62,0,0,0,.63.43.56.56,0,0,0,.4-.17L16.54,20l4.09,3A.9.9,0,0,0,21.11,23.15ZM13.8,20.71l-1.21-4q8.72-5.55,8.78-5.55c.15,0,.23,0,.23.16a.18.18,0,0,1,0,.06s-2.51,2.3-7.52,6.8Z" />
            </svg>
        </a>
    </li>
    <li>
        <a target="_blank" rel="noopener noreferrer" aria-label="share Configure mu4e for gmail accounts in emacs on ycombinator"
            href="https://news.ycombinator.com/submitlink?t=Configure%20mu4e%20for%20gmail%20accounts%20in%20emacs&u=https%3a%2f%2fpavodive.github.io%2fposts%2fconfiguring-mu4e-gmail%2f">
            <svg version="1.1" xml:space="preserve" width="30px" height="30px" viewBox="0 0 512 512" fill="currentColor"
                xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape">
                <path
                    d="M449.446 0C483.971 0 512 28.03 512 62.554L512 449.446C512 483.97 483.97 512 449.446 512L62.554 512C28.03 512 0 483.97 0 449.446L0 62.554C0 28.03 28.029 0 62.554 0L449.446 0ZM183.8767 87.9921H121.8427L230.6673 292.4508V424.0079H281.3328V292.4508L390.1575 87.9921H328.1233L256 238.2489z" />
            </svg>
        </a>
    </li>
</ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>© <a href="https://github.com/pavodive">pavodive</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
